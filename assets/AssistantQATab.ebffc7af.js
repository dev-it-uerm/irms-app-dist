import{m as D,_ as y,o as m,g as f,w as a,e as t,h as A,d as e,a5 as g,ac as w,ab as R,c as _,f as C,Q,a3 as v,a2 as I,Z as T,R as q,aX as F}from"./index.eb920d82.js";import{Q as h,a as r}from"./QCardSection.3fcb85f4.js";import{a as b,Q as N}from"./QTd.ad05ed8d.js";import{Q as S}from"./QTooltip.eab23ae0.js";import{a as x,Q as d}from"./QDialog.201f60e4.js";import{Q as E}from"./QTable.860155ee.js";import{C as k}from"./ClosePopup.b6ab0f5a.js";import{_ as z}from"./OMBRE-GRAY.d27a82e0.js";import"./QMarkupTable.74ae8eff.js";import"./QSelect.03e0dfad.js";const U={props:{items:Array,columns:Array,getAssistantQAs:Function},data(){return{IRAQADetailss:[],disAllDivCode:[],IRDialog:!1,IrNo:"",pdfDisplayDialog:!1,pdfUrl:null,maximizedToggle:null,subjectFileName:null,subjectFile:null}},computed:{...D({getAssistantQAForm:"ApplyStore/getAssistantQAForm",getAssistantDivision:"ApplyStore/getAssistantDivision"}),filteredDivCodeOptions(){return this.disAllDivCode.filter(i=>i.divisionCode!=this.DivisionCode)}},created(){this.getDivisioncode()},methods:{FormatDate(i){const o=new Date(i),l={year:"numeric",month:"long",day:"2-digit"};return o.toLocaleDateString("en-US",l).toUpperCase().replace(/\s/g," ")},FormatDateIR(i){const o=new Date(i),l={year:"numeric",month:"long",day:"2-digit"};return o.toLocaleDateString("en-US",l).toUpperCase().replace(/\s/g," ")},FormatTime(i){const o=new Date(i);let l=o.getHours();const u=o.getMinutes().toString().padStart(2,"0"),s=l>=12?"PM":"AM";return l=l%12,l=l||12,`${l}:${u} ${s}`},async viewIReport(i){try{this.IRDialog=!0;const o={iRNo:i},l=await this.$store.dispatch("ApplyStore/disAQA",o);this.IRAQADetailss=this.getAssistantQAForm}catch(o){console.error("Error inserting data:",o)}},viewPDF(i){this.pdfUrl="data:application/pdf;base64,"+i,this.pdfDisplayDialog=!0},closepdf(){this.pdfDisplayDialog=!1,this.subjectFile=null},async getDivisioncode(){try{await this.$store.dispatch("ApplyStore/disDivisionCode"),this.disAllDivCode=this.getAssistantDivision}catch(i){console.error("Error inserting data:",i)}}}},j={class:"QAModuleDiag"},P=e("div",{class:"text-secondary text-weight-bold",style:{"font-size":"25px",color:"#002b5c"}}," INCIDENT REPORT INFORMATION ",-1),V={class:"row q-col-gutter-md q-mx-lg"},L={class:"col-6"},O=e("div",{class:"text-weight-bold",style:{"font-size":"15px",color:"#03254b"}}," Incident Report Number ",-1),M={class:"col-6"},B=e("div",{class:"text-weight-bold",style:{"font-size":"15px",color:"#03254b"}}," Date Report Created ",-1),Y={class:"QADesContent"},W={class:"QAFixDesign"},G={class:"QADes1"},H=e("div",{class:"text-primary text-subtitle1 text-weight-bold q-mb-sx"}," General Information ",-1),X=e("div",{class:"q-mb-sm",style:{"font-size":"15px",color:"#737373"}}," This section contains essential details regarding the incident, including the date, time, location, individuals involved, and the nature of the incident. ",-1),Z={class:"row q-col-gutter-md q-mx-lg q-mt-xs"},J={class:"col-6"},K=e("div",{class:"text-weight-bold",style:{"font-size":"15px",color:"#03254b"}}," Incident Brief Description ",-1),$={class:"col-6"},ee=e("div",{class:"text-weight-bold",style:{"font-size":"15px",color:"#03254b"}}," Location of the Incident ",-1),te={class:"row q-col-gutter-md q-mx-lg q-mt-xs"},se={class:"col-6"},oe=e("div",{class:"text-weight-bold",style:{"font-size":"15px",color:"#03254b"}}," Date of the Incident ",-1),ie={class:"col-6"},le=e("div",{class:"text-weight-bold",style:{"font-size":"15px",color:"#03254b"}}," Time of the Incident ",-1),ae={class:"QADesContent"},ne={class:"QAFixDesign"},de={class:"QADes1"},re=e("div",{class:"text-primary text-subtitle1 text-weight-bold q-mb-sx"}," Attached File ",-1),ce=e("div",{class:"q-mb-sm",style:{"font-size":"15px",color:"#737373"}}," The attached files support the accurate review and proper documentation of this incident report. ",-1),ue={key:0,class:"QAFileDes column flex-center"},me={class:"text-dark text-left text-subtitle1"},pe={class:"bg-info text-white"},he=e("div",{class:"IRND"},"UPLOADED PDF FILES",-1),_e=["src"],Ae={key:1,class:"QAFileDes column flex-center"},fe=e("div",{class:"text-subtitle1 items-center text-weight-bold text-dark"},[e("i",null,"~ NO FILE ATTACHED ~")],-1),ge=[fe],ve={class:"QADesContent"},be={class:"QAFixDesign"},xe={class:"QADes1"},De=e("div",{class:"text-primary text-subtitle1 text-weight-bold q-mb-sx"}," Narrative Description of the Incident ",-1),ye=e("div",{class:"q-mb-sm",style:{"font-size":"15px",color:"#737373"}}," Provided detailed of how the incident transpired, including the sequence of events, contributing factors, and individuals involved. ",-1),we={class:"q-mx-xl"},Qe={class:"QADesContent"},Ie={class:"QAFixDesign"},Re={class:"QADes1"},Ce=e("div",{class:"text-primary text-subtitle1 text-weight-bold q-mb-sx"}," Possible Causes of the Incident ",-1),Te=e("div",{class:"q-mb-sm",style:{"font-size":"15px",color:"#737373"}}," Possible reason on the perspective of the Informant. ",-1),qe={class:"q-mx-xl"},Fe={class:"QADesContent"},Ne={class:"QAFixDesign"},Se={class:"QADes1"},Ee=e("div",{class:"text-primary text-subtitle1 text-weight-bold q-mb-sx"}," Immediate Response ",-1),ke=e("div",{class:"q-mb-sm",style:{"font-size":"15px",color:"#737373"}}," Action taken by the concerned department or by the Informant to ease the incident. ",-1),ze={class:"q-mx-xl"},Ue={class:"text-bold text-center text-uppercase"};function je(i,o,l,u,s,n){return m(),f(E,{rows:l.items,columns:l.columns,"row-key":"IRNo"},{"body-cell-viewIR":a(p=>[t(b,null,{default:a(()=>[t(A,{flat:"",rounded:"",push:"",onClick:c=>n.viewIReport(p.row.iRNo),ripple:{center:!0},icon:"description",class:"bg-accent text-black text-bold text-center shadow-5",style:{"border-radius":"20px",width:"125px"}},null,8,["onClick"]),t(x,{maximized:"",modelValue:s.IRDialog,"onUpdate:modelValue":o[4]||(o[4]=c=>s.IRDialog=c),persistent:""},{default:a(()=>[e("div",j,[t(g,{class:"contentFormQAModule"},{default:a(()=>[t(h,{class:"q-mb-sm row items-center justify-between"},{default:a(()=>[P,w((m(),f(A,{flat:"",icon:"close",style:{color:"#003566","background-color":"rgba(22, 110, 204, 0.1)"},onClick:o[0]||(o[0]=c=>s.IRDialog=!1)},{default:a(()=>[t(S,{class:"bg-info text-white"},{default:a(()=>[R(" Close Form ")]),_:1})]),_:1})),[[k]])]),_:1}),t(h,{style:{border:"2px solid #6b7c93"}},{default:a(()=>[e("div",V,[e("div",L,[O,t(r,{rounded:"",outlined:"","model-value":s.IRAQADetailss.iRNo,disable:""},null,8,["model-value"])]),e("div",M,[B,t(r,{rounded:"",outlined:"","model-value":n.FormatDateIR(s.IRAQADetailss.dateTimeCreated),disable:""},null,8,["model-value"])])]),t(d,{class:"formseparatorWhite"}),e("div",Y,[e("div",W,[e("div",G,[H,X,t(d,{class:"formseparatorYellow"}),e("div",Z,[e("div",J,[K,e("span",null,[t(r,{rounded:"",outlined:"","model-value":s.IRAQADetailss.subjectBriefDes,disable:""},null,8,["model-value"])])]),e("div",$,[ee,t(r,{rounded:"",outlined:"","model-value":s.IRAQADetailss.subjectLoc,disable:""},null,8,["model-value"])])]),e("div",te,[e("div",se,[oe,t(r,{rounded:"",outlined:"","model-value":n.FormatDate(s.IRAQADetailss.subjectDate),disable:""},null,8,["model-value"])]),e("div",ie,[le,t(r,{rounded:"",outlined:"","model-value":n.FormatTime(s.IRAQADetailss.subjectTime),disable:""},null,8,["model-value"])])])])])]),t(d,{class:"formseparatorWhite"}),e("div",ae,[e("div",ne,[e("div",de,[re,ce,t(d,{class:"formseparatorYellow"}),s.IRAQADetailss.subjectFile&&s.IRAQADetailss.subjectFile.length?(m(),_("div",ue,[e("div",{style:{display:"flex","align-items":"center",gap:"8px",background:"#e3f2fd",padding:"8px","border-radius":"4px"},onClick:o[1]||(o[1]=C(c=>n.viewPDF(s.IRAQADetailss.subjectFile,s.IRAQADetailss.subjectFileName),["stop"]))},[t(Q,{name:"description",class:"text-h3",color:"red"}),e("div",me,v(s.IRAQADetailss.subjectFileName),1)]),t(x,{modelValue:s.pdfDisplayDialog,"onUpdate:modelValue":o[3]||(o[3]=c=>s.pdfDisplayDialog=c)},{default:a(()=>[t(g,{style:{width:"90vw","max-width":"1100px"}},{default:a(()=>[e("div",pe,[he,t(A,{icon:"close",flat:"",round:"",dense:"",onClick:o[2]||(o[2]=c=>s.pdfDisplayDialog=!1),class:"absolute-top-right"})]),t(h,null,{default:a(()=>[s.pdfUrl?(m(),_("iframe",{key:0,src:s.pdfUrl,width:"100%",height:"600px",style:{border:"none"}},null,8,_e)):I("",!0)]),_:1})]),_:1})]),_:1},8,["modelValue"])])):(m(),_("div",Ae,ge))])])]),t(d,{class:"formseparatorWhite"}),e("div",ve,[e("div",be,[e("div",xe,[De,ye,t(d,{class:"formseparatorYellow"}),e("div",we,[t(r,{autogrow:"",rounded:"",outlined:"","model-value":s.IRAQADetailss.subjectNote,disable:"","input-class":"q-pa-md"},null,8,["model-value"])])])])]),t(d,{class:"formseparatorWhite"}),e("div",Qe,[e("div",Ie,[e("div",Re,[Ce,Te,t(d,{class:"formseparatorYellow"}),e("div",qe,[t(r,{autogrow:"",rounded:"",outlined:"","model-value":s.IRAQADetailss.subjectCause,disable:"","input-class":"q-pa-md"},null,8,["model-value"])])])])]),t(d,{class:"formseparatorWhite"}),e("div",Fe,[e("div",Ne,[e("div",Se,[Ee,ke,t(d,{class:"formseparatorYellow"}),e("div",ze,[t(r,{autogrow:"",rounded:"",outlined:"","model-value":s.IRAQADetailss.subjectResponse,disable:"","input-class":"q-pa-md"},null,8,["model-value"])])])])])]),_:1})]),_:1})])]),_:1},8,["modelValue"])]),_:2},1024)]),"body-cell-division":a(p=>[t(b,{props:p},{default:a(()=>[e("span",Ue,v(p.row.division),1)]),_:2},1032,["props"])]),_:1},8,["rows","columns"])}var Pe=y(U,[["render",je]]);const Ve={data(){return{loading:!0,showTable:!1,selectedStatus:null,searchContent:"",disAllAssistantQA:[],disColumns:[{name:"viewIR",label:"INCIDENT REPORT DETAILS",align:"left",field:"id"},{name:"IRNo",label:"IR NUMBER",align:"left",field:"iRNo"},{name:"departmentNumber",label:"INCIDENT RESPONDER (DEPARTMENT)",align:"left",field:"department_Description"},{name:"division",label:"DIVISION",align:"left",field:"Division"}]}},computed:{...D({getAssistantQA:"ApplyStore/getAssistantQA",getGoogleUser:"ApplyStore/getGoogleUser",loggedInUser:"ApplyStore/getUser",getQA:"ApplyStore/getQA"}),filteredDisAll(){const{disAllAssistantQA:i,searchContent:o}=this;let l=[...i];if(o&&typeof o=="string"){const u=o.toLowerCase();l=l.filter(s=>Object.values(s).some(n=>typeof n=="string"&&n.toLowerCase().includes(u)))}return l}},mounted(){setTimeout(()=>{this.showTable=!0,this.disAllAssistantQA,this.loading=!1},2e3)},created(){this.getAssistantQAs()},components:{AssistantQATable:Pe},methods:{async getAssistantQAs(){try{await this.$store.dispatch("ApplyStore/disAssistantQA"),this.disAllAssistantQA=this.getAssistantQA}catch(i){console.error("Error inserting data:",i)}},async selectStatus(i){this.selectedStatus=i}}},Le={id:"q-app",style:{position:"relative","z-index":"1"}},Oe={style:{height:"100%",width:"100%"},class:"q-pa-lg"},Me={class:"row items-center justify-between q-mb-md bg-white q-pa-sm rounded-borders shadow-1",style:{"border-radius":"10px"}},Be=e("div",null,[e("div",{class:"text-primary text-weight-bold",style:{"font-size":"30px"}}," ASSISTANT QUALITY ASSURANCE (AQA) MODULE "),e("div",{style:{"font-size":"18px",color:"#333333"}}," Incident Report Details ")],-1),Ye={class:"row items-center q-gutter-sm"},We={key:0,class:"fixed-full flex flex-center column q-gutter-md",style:{"background-color":"rgba(255, 255, 255, 0.7)","z-index":"9999"}},Ge=e("div",{class:"text-subtitle1 text-primary"},"Please wait...",-1),He=e("img",{src:z,style:{position:"absolute",top:"0",left:"0",width:"100%",height:"100%","z-index":"0"}},null,-1);function Xe(i,o,l,u,s,n){const p=T("AssistantQATable");return m(),_(q,null,[e("div",Le,[e("div",Oe,[e("div",Me,[Be,e("div",Ye,[t(r,{modelValue:s.searchContent,"onUpdate:modelValue":o[0]||(o[0]=c=>s.searchContent=c),label:"SEARCH ",dense:"",outlined:"",rounded:""},{append:a(()=>[t(Q,{name:"search",color:"info"})]),_:1},8,["modelValue"])])]),t(h,{class:"row bg-warning q-pa-md rounded-borders shadow-1",style:{"border-radius":"10px"}},{default:a(()=>[s.loading?(m(),_("div",We,[t(N,{size:"150px",color:"primary"}),Ge])):I("",!0),t(h,{class:"column fit full-width"},{default:a(()=>[t(h,{class:"bg-white q-pa-sm rounded-borders shadow-1",style:{"border-radius":"10px"}},{default:a(()=>[w(t(p,{rows:n.filteredDisAll,columns:s.disColumns,"row-key":"IRNo",loading:s.loading,getAssistantQAs:n.getAssistantQAs,"virtual-scroll":"","hide-pagination":"","rows-per-page-options":[0]},null,8,["rows","columns","loading","getAssistantQAs"]),[[F,s.showTable]])]),_:1})]),_:1})]),_:1})])]),He],64)}var at=y(Ve,[["render",Xe]]);export{at as default};
