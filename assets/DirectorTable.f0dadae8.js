import{a as g,Q as T}from"./QTd.3827ec7e.js";import{m as N,_ as A,o as d,g as w,w as i,e as t,h as _,ab as y,d as e,a5 as x,ac as R,c as m,a2 as D,f as Q,Q as q,a3 as f,Z as S,R as E,aX as k}from"./index.7290e8b6.js";import{Q as b,a as n}from"./QCardSection.f6e61dc3.js";import{Q as I}from"./QTooltip.67592d45.js";import{a as v,Q as p}from"./QDialog.9d927c3c.js";import{Q as j}from"./QCardActions.4fb30e70.js";import{Q as F}from"./QSpinnerFacebook.32bfac09.js";import{Q as z}from"./QTable.f4fed70c.js";import{C}from"./ClosePopup.a4e49e7f.js";import{_ as H}from"./OMBRE-GRAY.d27a82e0.js";import"./QMarkupTable.3b8b6921.js";import"./QSelect.60643c14.js";const V={props:{items:Array,columns:Array,getDirectors:Function},data(){return{IRDirectorDetailss:[],IRDialog:!1,setHRRecom:!1,HRRec:null,QAReferral:null,waitplease:!1,pdfDisplayDialog:!1,pdfUrl:null,maximizedToggle:null,subjectFileName:null,iRNo:""}},computed:{...N({getDirector:"ApplyStore/getDirector"})},methods:{FormatDate(l){const o=new Date(l),r={year:"numeric",month:"long",day:"2-digit"};return o.toLocaleDateString("en-US",r).toUpperCase().replace(/\s/g," ")},FormatDateIR(l){const o=new Date(l),r={year:"numeric",month:"long",day:"2-digit"};return o.toLocaleDateString("en-US",r).toUpperCase().replace(/\s/g," ")},FormatTime(l){const o=new Date(l);let r=o.getHours();const h=o.getMinutes().toString().padStart(2,"0"),s=r>=12?"PM":"AM";return r=r%12,r=r||12,`${r}:${h} ${s}`},async viewIReport(l){try{this.IRDialog=!0;const o={iRNo:l},r=await this.$store.dispatch("ApplyStore/disDirectorIrp",o);this.IRDirectorDetailss=this.getDirector}catch(o){console.error("Error inserting data:",o)}},viewPDF(l){this.pdfUrl="data:application/pdf;base64,"+l,this.pdfDisplayDialog=!0},HRRecommendation(l){this.setHRRecom=!0,this.IrNo=l},onCancelHRRecom(){this.setHRRecom=!1},async submitHRRecommendation(l){try{const o={IRNo:this.IrNo,HRRec:l};this.waitplease=!0,this.onCancelHRRecom(),await this.$store.dispatch("ApplyStore/addHRRecommendation",o),setTimeout(()=>{this.getDirectors(),this.waitplease=!1},2e3),this.$q.notify({color:"green-8",position:"top",message:"SUCCESS GIVING RECOMMENDATION",icon:"check",iconColor:"white",timeout:3e3,progress:!0})}catch(o){console.error("Error creating action items:",o)}}}},U={class:"QADialog"},P=e("div",{class:"text-secondary text-weight-bold",style:{"font-size":"25px",color:"#002b5c"}}," INCIDENT REPORT INFORMATION ",-1),O={class:"row q-col-gutter-md q-mx-lg"},M={class:"col-6"},L=e("div",{class:"text-weight-bold",style:{"font-size":"15px",color:"#03254b"}}," Incident Report Number ",-1),B={class:"col-6"},G=e("div",{class:"text-weight-bold",style:{"font-size":"15px",color:"#03254b"}}," Date Report Created ",-1),Y={class:"QADesContent"},W={class:"QAFixDesign"},J={class:"QADes1"},X=e("div",{class:"text-primary text-subtitle1 text-weight-bold q-mb-sx"}," General Information ",-1),Z=e("div",{class:"q-mb-sm",style:{"font-size":"15px",color:"#737373"}}," This section contains essential details regarding the incident, including the date, time, location, individuals involved, and the nature of the incident. ",-1),K={class:"row q-col-gutter-md q-mx-lg"},$={class:"col-6"},ee=e("div",{class:"text-weight-bold",style:{"font-size":"15px",color:"#03254b"}}," Primary (Department/s) ",-1),te={key:0},se={key:1},oe={class:"col-6"},ie=e("div",{class:"text-weight-bold",style:{"font-size":"15px",color:"#03254b"}}," Secondary (Department/s) ",-1),le={key:0},re={key:1},ae={class:"row q-col-gutter-md q-mx-lg q-mt-xs"},ne={class:"col-6"},ce=e("div",{class:"text-weight-bold",style:{"font-size":"15px",color:"#03254b"}}," Subject of the Incident ",-1),de={key:0},ue={key:1},me={class:"col-6"},pe=e("div",{class:"text-weight-bold",style:{"font-size":"15px",color:"#03254b"}}," Location of the Incident ",-1),he={class:"row q-col-gutter-md q-mx-lg q-mt-xs"},_e={class:"col-6"},be=e("div",{class:"text-weight-bold",style:{"font-size":"15px",color:"#03254b"}}," Date of the Incident ",-1),fe={class:"col-6"},De=e("div",{class:"text-weight-bold",style:{"font-size":"15px",color:"#03254b"}}," Time of the Incident ",-1),ge={class:"QADesContent"},xe={class:"QAFixDesign"},ve={class:"QADes1"},Re=e("div",{class:"text-primary text-subtitle1 text-weight-bold q-mb-sx"}," Attached File ",-1),we=e("div",{class:"q-mb-sm",style:{"font-size":"15px",color:"#737373"}}," The attached files support the accurate review and proper documentation of this incident report. ",-1),ye={key:0,class:"QAFileDes column flex-center"},Ie={class:"text-dark text-left text-subtitle1"},Ce={key:1,class:"QAFileDes column flex-center"},Ne=e("div",{class:"text-subtitle1 items-center text-weight-bold text-dark"},[e("i",null,"~ NO FILE ATTACHED ~")],-1),Ae=[Ne],qe={class:"QADesContent"},Te={class:"QAFixDesign"},Qe={class:"QADes1"},Se=e("div",{class:"text-primary text-subtitle1 text-weight-bold q-mb-sx"}," Narrative Description of the Incident ",-1),Ee=e("div",{class:"q-mb-sm",style:{"font-size":"15px",color:"#737373"}}," Provided detailed of how the incident transpired, including the sequence of events, contributing factors, and individuals involved. ",-1),ke={class:"q-mx-xl"},je={class:"QADesContent"},Fe={class:"QAFixDesign"},ze={class:"QADes1"},He=e("div",{class:"text-primary text-subtitle1 text-weight-bold q-mb-sx"}," Possible Causes of the Incident ",-1),Ve=e("div",{class:"q-mb-sm",style:{"font-size":"15px",color:"#737373"}}," Possible reason on the perspective of the Informant. ",-1),Ue={class:"q-mx-xl"},Pe={class:"QADesContent"},Oe={class:"QAFixDesign"},Me={class:"QADes1"},Le=e("div",{class:"text-primary text-subtitle1 text-weight-bold q-mb-sx"}," Immediate Response ",-1),Be=e("div",{class:"q-mb-sm",style:{"font-size":"15px",color:"#737373"}}," Action taken by the concerned department or by the Informant to ease the incident. ",-1),Ge={class:"q-mx-xl"},Ye={key:0,class:"text-bold text-center text-uppercase"},We={key:1,class:"text-bold text-center text-uppercase"},Je=e("div",{class:"text-secondary text-weight-bold",style:{"font-size":"25px",color:"#002b5c"}}," RECOMMENDATION ",-1),Xe=e("div",{class:"q-mb-sm q-pa-sm",style:{"font-size":"18px",color:"#000000"}}," Is this incident report (IR) something that should be referred to HR? ",-1),Ze={class:"row q-gutter-xxl justify-center"},Ke={class:"spinner-container"},$e=e("div",{class:"please-wait"},"Doing something. Please wait...",-1);function et(l,o,r,h,s,a){return d(),w(z,{rows:r.items,columns:r.columns,"row-key":"IRNo"},{"body-cell-viewIR":i(u=>[t(g,null,{default:i(()=>[t(_,{flat:"",rounded:"",push:"",onClick:c=>a.viewIReport(u.row.iRNo),ripple:{center:!0},icon:"description",class:"bg-accent text-black text-bold text-center shadow-5",style:{"border-radius":"20px",width:"125px"}},{default:i(()=>[t(I,{class:"bg-info text-white"},{default:i(()=>[y(" View Report Details ")]),_:1})]),_:2},1032,["onClick"]),t(v,{maximized:"",modelValue:s.IRDialog,"onUpdate:modelValue":o[2]||(o[2]=c=>s.IRDialog=c),persistent:""},{default:i(()=>[e("div",U,[t(x,{class:"contentFormQA"},{default:i(()=>[t(b,{class:"q-mb-sm row items-center justify-between"},{default:i(()=>[P,R((d(),w(_,{flat:"",icon:"close",style:{color:"#003566","background-color":"rgba(22, 110, 204, 0.1)"},onClick:o[0]||(o[0]=c=>s.IRDialog=!1)},{default:i(()=>[t(I,{class:"bg-info text-white"},{default:i(()=>[y(" Close Form ")]),_:1})]),_:1})),[[C]])]),_:1}),t(b,{style:{border:"2px solid #6b7c93"}},{default:i(()=>[e("div",O,[e("div",M,[L,t(n,{rounded:"",outlined:"","model-value":s.IRDirectorDetailss.iRNo,disable:""},null,8,["model-value"])]),e("div",B,[G,t(n,{rounded:"",outlined:"","model-value":a.FormatDateIR(s.IRDirectorDetailss.dateTimeCreated),disable:""},null,8,["model-value"])])]),t(p,{class:"formseparatorWhite"}),e("div",Y,[e("div",W,[e("div",J,[X,Z,t(p,{class:"formseparatorYellow"}),e("div",K,[e("div",$,[ee,s.IRDirectorDetailss.primaryDept?(d(),m("span",se,[t(n,{rounded:"",outlined:"","model-value":s.IRDirectorDetailss.primaryDept,disable:""},null,8,["model-value"])])):(d(),m("span",te,[t(n,{rounded:"",outlined:"",label:"Not Assigned",disable:""})]))]),e("div",oe,[ie,s.IRDirectorDetailss.deptCodeInvDescriptions?(d(),m("span",re,[t(n,{rounded:"",outlined:"","model-value":s.IRDirectorDetailss.deptCodeInvDescriptions,disable:""},null,8,["model-value"])])):(d(),m("span",le,[t(n,{rounded:"",outlined:"",label:"Not Assigned",disable:""})]))])]),e("div",ae,[e("div",ne,[ce,s.IRDirectorDetailss.subjectSpecificExam?(d(),m("span",de,[t(n,{rounded:"",outlined:"","model-value":s.IRDirectorDetailss.subjectName+" - "+s.IRDirectorDetailss.subjectSpecificExam,disable:""},null,8,["model-value"])])):s.IRDirectorDetailss.subjectSpecificExam===null?(d(),m("span",ue,[t(n,{rounded:"",outlined:"","model-value":s.IRDirectorDetailss.subjectName,disable:""},null,8,["model-value"])])):D("",!0)]),e("div",me,[pe,t(n,{rounded:"",outlined:"","model-value":s.IRDirectorDetailss.subjectLoc,disable:""},null,8,["model-value"])])]),e("div",he,[e("div",_e,[be,t(n,{rounded:"",outlined:"","model-value":a.FormatDate(s.IRDirectorDetailss.subjectDate),disable:""},null,8,["model-value"])]),e("div",fe,[De,t(n,{rounded:"",outlined:"","model-value":a.FormatTime(s.IRDirectorDetailss.subjectTime),disable:""},null,8,["model-value"])])])])])]),t(p,{class:"formseparatorWhite"}),e("div",ge,[e("div",xe,[e("div",ve,[Re,we,t(p,{class:"formseparatorYellow"}),s.IRDirectorDetailss.subjectFile&&s.IRDirectorDetailss.subjectFile.length?(d(),m("div",ye,[e("div",{style:{display:"flex","align-items":"center",gap:"8px",background:"#e3f2fd",padding:"8px","border-radius":"4px"},onClick:o[1]||(o[1]=Q(c=>a.viewPDF(s.IRDirectorDetailss.subjectFile,s.IRDirectorDetailss.subjectFileName),["stop"]))},[t(q,{name:"description",class:"text-h3",color:"red"}),e("div",Ie,f(s.IRDirectorDetailss.subjectFileName),1)])])):(d(),m("div",Ce,Ae))])])]),t(p,{class:"formseparatorWhite"}),e("div",qe,[e("div",Te,[e("div",Qe,[Se,Ee,t(p,{class:"formseparatorYellow"}),e("div",ke,[t(n,{autogrow:"",rounded:"",outlined:"","model-value":s.IRDirectorDetailss.subjectNote,disable:"","input-class":"q-pa-md"},null,8,["model-value"])])])])]),t(p,{class:"formseparatorWhite"}),e("div",je,[e("div",Fe,[e("div",ze,[He,Ve,t(p,{class:"formseparatorYellow"}),e("div",Ue,[t(n,{autogrow:"",rounded:"",outlined:"","model-value":s.IRDirectorDetailss.subjectCause,disable:"","input-class":"q-pa-md"},null,8,["model-value"])])])])]),t(p,{class:"formseparatorWhite"}),e("div",Pe,[e("div",Oe,[e("div",Me,[Le,Be,t(p,{class:"formseparatorYellow"}),e("div",Ge,[t(n,{autogrow:"",rounded:"",outlined:"","model-value":s.IRDirectorDetailss.subjectResponse,disable:"","input-class":"q-pa-md"},null,8,["model-value"])])])])])]),_:1})]),_:1})])]),_:1},8,["modelValue"])]),_:2},1024)]),"body-cell-subject":i(u=>[t(g,{props:u},{default:i(()=>[u.row.subjectSpecificExam?D("",!0):(d(),m("span",Ye,f(u.row.subjectName),1)),u.row.subjectSpecificExam?(d(),m("span",We,f(u.row.subjectName)+" - "+f(u.row.subjectSpecificExam),1)):D("",!0)]),_:2},1032,["props"])]),"body-cell-hrRef":i(u=>[t(g,null,{default:i(()=>[t(_,{disable:u.row.hrReferral!==null,onClick:c=>a.HRRecommendation(u.row.iRNo),icon:"healing",class:"bg-positive text-white text-bold text-center",style:{"border-radius":"20px",width:"125px"}},null,8,["disable","onClick"]),t(v,{modelValue:s.setHRRecom,"onUpdate:modelValue":o[6]||(o[6]=c=>s.setHRRecom=c),persistent:""},{default:i(()=>[t(x,{class:"IRCON"},{default:i(()=>[t(b,{class:"q-mb-sm row items-center justify-between"},{default:i(()=>[Je,R(t(_,{flat:"",icon:"close",style:{color:"#166ecc","background-color":"rgba(22, 110, 204, 0.1)"},onClick:o[3]||(o[3]=c=>s.setHRRecom=!1)},null,512),[[C]])]),_:1}),t(p,{class:"formseparatorBlue"}),t(j,{align:"center",class:"q-mt-md column items-center justify-center",style:{"text-align":"center"}},{default:i(()=>[Xe,e("div",Ze,[t(_,{flat:"",rounded:"",push:"",label:"NO",class:"buttonCancelDesign text-info",onClick:o[4]||(o[4]=c=>a.submitHRRecommendation(2))}),t(_,{flat:"",rounded:"",push:"",label:"YES",class:"buttonSaveDesign bg-accent text-black",onClick:o[5]||(o[5]=c=>a.submitHRRecommendation(1))})])]),_:1})]),_:1})]),_:1},8,["modelValue"]),t(v,{modelValue:s.waitplease,"onUpdate:modelValue":o[7]||(o[7]=c=>s.waitplease=c),persistent:"","content-class":"non-transparent-dialog"},{default:i(()=>[t(x,{class:"centered-card"},{default:i(()=>[t(b,null,{default:i(()=>[e("div",Ke,[t(F,{size:"100px"}),$e])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:2},1024)]),_:1},8,["rows","columns"])}var tt=A(V,[["render",et]]);const st={data(){return{loading:!0,showTable:!1,selectedStatus:null,searchContent:"",disAllDirector:[],disColumns:[{name:"viewIR",label:"INCIDENT REPORT DETAILS",align:"left",field:"id"},{name:"IRNo",label:"IR NUMBER",align:"left",field:"iRNo"},{name:"departmentNumber",label:"INCIDENT RESPONDER (DEPARTMENT)",align:"left",field:"department_Description"},{name:"subject",label:"SUBJECT OF THE INCIDENT",align:"left",field:"subjectName"},{name:"hrRef",label:"HR REFFERAL",align:"left",field:"id"}]}},computed:{...N({getDirector:"ApplyStore/getDirector",getGoogleUser:"ApplyStore/getGoogleUser",loggedInUser:"ApplyStore/getUser"}),filteredDisAll(){const{disAllDirector:l,searchContent:o}=this;let r=[...l];if(o&&typeof o=="string"){const h=o.toLowerCase();r=r.filter(s=>Object.values(s).some(a=>typeof a=="string"&&a.toLowerCase().includes(h)))}return r}},mounted(){setTimeout(()=>{this.showTable=!0,this.disAllDirector,this.loading=!1},2e3)},created(){this.getDirectors()},components:{DirectorTable:tt},methods:{async getDirectors(){try{await this.$store.dispatch("ApplyStore/disDirector"),this.disAllDirector=this.getDirector}catch(l){console.error("Error inserting data:",l)}},search(){},async selectStatus(l){this.selectedStatus=l}}},ot={id:"q-app",style:{"min-height":"100vh",position:"relative","z-index":"1"}},it=e("div",{class:"row items-center justify-between q-ma-lg q-mb-md bg-white q-pa-sm rounded-borders shadow-1",style:{"border-radius":"10px"}},[e("div",null,[e("div",{class:"text-primary text-weight-bold",style:{"font-size":"30px"}}," DIRECTORS & VPS MODULE "),e("div",{style:{"font-size":"18px",color:"#333333"}}," Incident Report Details ")])],-1),lt={key:0,class:"fixed-full flex flex-center column q-gutter-md",style:{"background-color":"rgba(255, 255, 255, 0.7)","z-index":"9999"}},rt=e("div",{class:"text-subtitle1 text-primary"},"Please wait...",-1),at={class:"row items-end justify-end q-gutter-md q-pa-sm"},nt=e("img",{src:H,style:{position:"absolute",top:"0",left:"0",width:"100%",height:"100%","z-index":"0"}},null,-1);function ct(l,o,r,h,s,a){const u=S("DirectorTable",!0);return d(),m(E,null,[e("div",ot,[it,t(b,{class:"row q-mb-sm bg-white q-ma-lg q-pa-md rounded-borders shadow-1",style:{"border-radius":"10px"}},{default:i(()=>[s.loading?(d(),m("div",lt,[t(T,{size:"150px",color:"primary"}),rt])):D("",!0),t(b,{class:"column fit full-width"},{default:i(()=>[e("div",at,[t(n,{modelValue:s.searchContent,"onUpdate:modelValue":o[0]||(o[0]=c=>s.searchContent=c),label:"SEARCH ",dense:"",outlined:"",rounded:""},{append:i(()=>[t(q,{name:"search",color:"info"})]),_:1},8,["modelValue"])]),R(t(u,{rows:a.filteredDisAll,pagination:{rowsPerPage:11},columns:s.disColumns,"row-key":"IRNo",loading:s.loading,getDirectors:a.getDirectors},null,8,["rows","columns","loading","getDirectors"]),[[k,s.showTable]])]),_:1})]),_:1})]),nt],64)}var Rt=A(st,[["render",ct]]);export{Rt as default};
