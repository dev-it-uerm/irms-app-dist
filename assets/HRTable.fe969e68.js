import{a as x,Q as M}from"./QTd.a9f9940a.js";import{m as E,_ as T,o as n,g as _,w as a,e as s,h as v,d as e,a5 as y,ac as I,ab as w,I as P,c as p,a2 as g,a3 as b,R as D,a6 as N,f as U,Q as A,Z as H,a0 as W,bk as q,a9 as F,aX as Q,aW as k,aV as O}from"./index.3def2841.js";import{Q as B}from"./QSpace.80bcd67f.js";import{Q as Y,a as L,b as G,c as j}from"./QTabPanels.9b1e516d.js";import{Q as R,a as u}from"./QCardSection.602b91ad.js";import{Q as V}from"./QTooltip.3e1d15c0.js";import{a as C,Q as h}from"./QDialog.a38ea339.js";import{Q as z}from"./QTable.aaf8c520.js";import{C as $}from"./ClosePopup.7a2bcddb.js";import{_ as J}from"./OMBRE-GRAY.d27a82e0.js";import"./QSelect.706405f5.js";import"./use-cache.b0833c75.js";import"./QMarkupTable.d481892d.js";const X={props:{items:Array,columns:Array},data(){return{IRDialog:!1,IRQADetailss:[],pdfDisplayDialog:!1,isLoadingIRDetails:!1,pdfUrl:null,maximizedToggle:null,subjectFileName:null,subjectFile:null,areaValue:[{label:"ACADEME",value:"ACD-01"},{label:"HOSPITAL",value:"HST-02"},{label:"ADMIN",value:"ADM-03"}]}},computed:{...E({getHR:"ApplyStore/getHR"})},methods:{getAreaLabel(o){const i=this.areaValue.find(l=>l.value===o);return i?i.label:o},FormatDate(o){const i=new Date(o),l={year:"numeric",month:"long",day:"2-digit"};return i.toLocaleDateString("en-US",l).toUpperCase().replace(/\s/g," ")},FormatDateIR(o){const i=new Date(o),l={year:"numeric",month:"long",day:"2-digit"};return i.toLocaleDateString("en-US",l).toUpperCase().replace(/\s/g," ")},FormatTime(o){const i=new Date(o);let l=i.getHours();const m=i.getMinutes().toString().padStart(2,"0"),t=l>=12?"PM":"AM";return l=l%12,l=l||12,`${l}:${m} ${t}`},async viewIReport(o){try{this.IRDialog=!0,this.isLoadingIRDetails=!0;const i={iRNo:o};this.selectedIrNo=o;const l=await this.$store.dispatch("ApplyStore/disIrpHR",i);this.IRQADetailss=this.getHR}catch(i){console.error("Error inserting data:",i)}finally{this.isLoadingIRDetails=!1}},viewPDF(o,i){const l=o.replace(/^data:application\/pdf;base64,/,""),m=atob(l),t=new Array(m.length);for(let r=0;r<m.length;r++)t[r]=m.charCodeAt(r);const c=new Uint8Array(t),d=new Blob([c],{type:"application/pdf"});this.pdfUrl=URL.createObjectURL(d),this.pdfDisplayDialog=!0},closepdf(){this.pdfDisplayDialog=!1,this.subjectFile=null}}},Z={class:"HRVDia"},K=e("div",{class:"text-secondary text-weight-bold",style:{"font-size":"25px",color:"#002b5c"}}," INCIDENT REPORT INFORMATION ",-1),ee=e("div",{class:"q-mt-md text-primary text-weight-medium"}," Loading incident details... ",-1),te={class:"row q-col-gutter-md q-mx-lg"},se={class:"col-6"},oe=e("div",{class:"text-weight-bold",style:{"font-size":"15px",color:"#03254b"}}," Incident Report Number ",-1),ie={class:"col-6"},le=e("div",{class:"text-weight-bold",style:{"font-size":"15px",color:"#03254b"}}," Date Report Created ",-1),ae={class:"HRDesContent"},ne={class:"HRFixDesign"},re={class:"HRDes1"},de=e("div",{class:"text-primary text-subtitle1 text-weight-bold q-mb-sx"}," General Information ",-1),ce=e("div",{class:"q-mb-sm",style:{"font-size":"15px",color:"#737373"}}," This section contains essential details regarding the incident, including the date, time, location, individuals involved, and the nature of the incident. ",-1),ue={class:"row q-col-gutter-md q-mx-lg"},pe={class:"col-6"},me=e("div",{class:"text-weight-bold",style:{"font-size":"15px",color:"#03254b"}}," Primary (Department/s) ",-1),he={key:0},fe={key:1},be={class:"col-6"},_e=e("div",{class:"text-weight-bold",style:{"font-size":"15px",color:"#03254b"}}," Secondary (Department/s) ",-1),ge={key:0},Re={key:1},ve={class:"row q-col-gutter-md q-mx-lg q-mt-xs"},xe={class:"col-6"},De=e("div",{class:"text-weight-bold",style:{"font-size":"15px",color:"#03254b"}}," Subject of the Incident ",-1),ye={key:0},Ie={key:1},we={class:"col-6"},Ne=e("div",{class:"text-weight-bold",style:{"font-size":"15px",color:"#03254b"}}," Location of the Incident ",-1),Ae={class:"row q-col-gutter-md q-mx-lg q-mt-xs"},Ce={class:"col-6"},Se=e("div",{class:"text-weight-bold",style:{"font-size":"15px",color:"#03254b"}}," Date of the Incident ",-1),Ee={class:"col-6"},Te=e("div",{class:"text-weight-bold",style:{"font-size":"15px",color:"#03254b"}}," Time of the Incident ",-1),He={class:"HRDesContent"},qe={class:"HRFixDesign"},Fe={class:"HRDes1"},Qe=e("div",{class:"text-primary text-subtitle1 text-weight-bold q-mb-sx"}," Topic ",-1),ke=e("div",{class:"q-mb-sm",style:{"font-size":"15px",color:"#737373"}}," Short description of the Incident ",-1),Oe={class:"q-mx-xl"},Le={class:"HRDesContent"},je={class:"HRFixDesign"},Pe={class:"HRDes1"},Ue=e("div",{class:"text-primary text-subtitle1 text-weight-bold q-mb-sx"}," Attached File ",-1),Ve=e("div",{class:"q-mb-sm",style:{"font-size":"15px",color:"#737373"}}," The attached files support the accurate review and proper documentation of this incident report. ",-1),ze={class:"text-red text-subtitle2 text-weight-bold q-mb-sx q-mx-xl"},$e={key:0,class:"HRFileDes row flex-start q-mx-xl",style:{"border-radius":"25px"}},Me=["onClick"],We={style:{display:"flex","align-items":"center",gap:"10px","background-color":"#f5f5f5",padding:"8px 12px","border-radius":"6px",border:"1px solid #dcdcdc",width:"fit-content"}},Be={class:"text-dark text-subtitle2"},Ye={class:"bg-info text-white"},Ge=e("div",{class:"text-h6 q-mx-md"},"UPLOADED PDF FILES",-1),Je=["src"],Xe={key:1,class:"HRFileDes column flex-center q-mx-xl",style:{"border-radius":"25px"}},Ze=e("div",{class:"text-subtitle1 items-center text-weight-bold text-dark"},[e("i",null,"~ NO FILE ATTACHED ~")],-1),Ke=[Ze],et={class:"HRDesContent"},tt={class:"HRFixDesign"},st={class:"HRDes1"},ot=e("div",{class:"text-primary text-subtitle1 text-weight-bold q-mb-sx"}," Narrative Description of the Incident ",-1),it=e("div",{class:"q-mb-sm",style:{"font-size":"15px",color:"#737373"}}," Provided detailed of how the incident transpired, including the sequence of events, contributing factors, and individuals involved. ",-1),lt={class:"q-mx-xl"},at={class:"HRDesContent"},nt={class:"HRFixDesign"},rt={class:"HRDes1"},dt=e("div",{class:"text-primary text-subtitle1 text-weight-bold q-mb-sx"}," Possible Causes of the Incident ",-1),ct=e("div",{class:"q-mb-sm",style:{"font-size":"15px",color:"#737373"}}," Possible reason on the perspective of the Informant. ",-1),ut={class:"q-mx-xl"},pt={class:"HRDesContent"},mt={class:"HRFixDesign"},ht={class:"HRDes1"},ft=e("div",{class:"text-primary text-subtitle1 text-weight-bold q-mb-sx"}," Immediate Response ",-1),bt=e("div",{class:"q-mb-sm",style:{"font-size":"15px",color:"#737373"}}," Action taken by the concerned department or by the Informant to ease the incident. ",-1),_t={class:"q-mx-xl"},gt={key:0,class:"text-bold text-center text-uppercase"},Rt={key:1,class:"text-bold text-center text-uppercase"},vt={class:"text-bold text-center text-uppercase"};function xt(o,i,l,m,t,c){return n(),_(z,{rows:l.items,columns:l.columns,"row-key":"IRNo"},{"body-cell-viewIR":a(d=>[s(x,null,{default:a(()=>[s(v,{push:"",onClick:r=>c.viewIReport(d.row.iRNo),ripple:{center:!0},color:"accent",icon:"description",class:"text-black text-bold text-center shadow-5",style:{"border-radius":"20px",width:"125px"}},null,8,["onClick"]),s(C,{maximized:"",modelValue:t.IRDialog,"onUpdate:modelValue":i[3]||(i[3]=r=>t.IRDialog=r),persistent:""},{default:a(()=>[e("div",Z,[s(y,{class:"contentFormHR"},{default:a(()=>[s(R,{class:"q-mb-sm row items-center justify-between"},{default:a(()=>[K,I((n(),_(v,{flat:"",icon:"close",style:{color:"#003566","background-color":"rgba(22, 110, 204, 0.1)"},onClick:i[0]||(i[0]=r=>t.IRDialog=!1)},{default:a(()=>[s(V,{class:"bg-info text-white"},{default:a(()=>[w(" Close Form ")]),_:1})]),_:1})),[[$]])]),_:1}),t.isLoadingIRDetails?(n(),_(R,{key:0,class:"column flex-center q-pa-xl",style:{height:"400px"}},{default:a(()=>[s(P,{size:"60px",color:"primary"}),ee]),_:1})):(n(),_(R,{key:1,style:{border:"2px solid #6b7c93"}},{default:a(()=>[e("div",te,[e("div",se,[oe,s(u,{rounded:"",outlined:"","model-value":t.IRQADetailss.iRNo,disable:""},null,8,["model-value"])]),e("div",ie,[le,s(u,{rounded:"",outlined:"","model-value":c.FormatDateIR(t.IRQADetailss.dateTimeCreated),disable:""},null,8,["model-value"])])]),s(h,{class:"formseparatorWhite"}),e("div",ae,[e("div",ne,[e("div",re,[de,ce,s(h,{class:"formseparatorYellow"}),e("div",ue,[e("div",pe,[me,t.IRQADetailss.primaryDept?(n(),p("span",fe,[s(u,{rounded:"",outlined:"","model-value":t.IRQADetailss.primaryDept,disable:""},null,8,["model-value"])])):(n(),p("span",he,[s(u,{rounded:"",outlined:"",label:"Not Assigned",disable:""})]))]),e("div",be,[_e,t.IRQADetailss.deptCodeInvDescriptions?(n(),p("span",Re,[s(u,{rounded:"",outlined:"",autogrow:"","model-value":t.IRQADetailss.deptCodeInvDescriptions,disable:""},null,8,["model-value"])])):(n(),p("span",ge,[s(u,{rounded:"",outlined:"",label:"Not Assigned",disable:""})]))])]),e("div",ve,[e("div",xe,[De,t.IRQADetailss.subjectSpecificExam?(n(),p("span",ye,[s(u,{rounded:"",outlined:"","model-value":t.IRQADetailss.subjectName+" - "+t.IRQADetailss.subjectSpecificExam,disable:""},null,8,["model-value"])])):t.IRQADetailss.subjectSpecificExam===null?(n(),p("span",Ie,[s(u,{rounded:"",outlined:"","model-value":t.IRQADetailss.subjectName,disable:""},null,8,["model-value"])])):g("",!0)]),e("div",we,[Ne,s(u,{rounded:"",outlined:"","model-value":t.IRQADetailss.subjectLoc,disable:""},null,8,["model-value"])])]),e("div",Ae,[e("div",Ce,[Se,s(u,{rounded:"",outlined:"","model-value":c.FormatDate(t.IRQADetailss.subjectDate),disable:""},null,8,["model-value"])]),e("div",Ee,[Te,s(u,{rounded:"",outlined:"","model-value":c.FormatTime(t.IRQADetailss.subjectTime),disable:""},null,8,["model-value"])])])])])]),s(h,{class:"formseparatorWhite"}),e("div",He,[e("div",qe,[e("div",Fe,[Qe,ke,s(h,{class:"formseparatorYellow"}),e("div",Oe,[s(u,{autogrow:"",rounded:"",outlined:"","model-value":t.IRQADetailss.subjectTopic||"None",disable:"","input-class":"q-pa-md"},null,8,["model-value"])])])])]),s(h,{class:"formseparatorWhite"}),e("div",Le,[e("div",je,[e("div",Pe,[Ue,Ve,s(h,{class:"formseparatorYellow"}),e("div",ze," Number of file: "+b(t.IRQADetailss.totalAttachments),1),t.IRQADetailss.files&&t.IRQADetailss.files.length?(n(),p("div",$e,[(n(!0),p(D,null,N(t.IRQADetailss.files,(r,f)=>(n(),p("div",{key:f,style:{display:"flex","align-items":"start",gap:"5px",background:"#e3f2fd",padding:"8px","border-radius":"4px","margin-bottom":"5px",cursor:"pointer"},onClick:U(S=>c.viewPDF(r.subjectFile,r.subjectFileName),["stop"])},[e("div",We,[s(A,{name:"description",size:"24px",color:"grey-7"}),e("div",Be,b(r.subjectFileName),1)])],8,Me))),128)),s(C,{modelValue:t.pdfDisplayDialog,"onUpdate:modelValue":i[2]||(i[2]=r=>t.pdfDisplayDialog=r)},{default:a(()=>[s(y,{style:{width:"90vw","max-width":"1100px"}},{default:a(()=>[e("div",Ye,[Ge,s(v,{icon:"close",flat:"",round:"",dense:"",onClick:i[1]||(i[1]=r=>t.pdfDisplayDialog=!1),class:"absolute-top-right"})]),s(R,null,{default:a(()=>[t.pdfUrl?(n(),p("iframe",{key:0,src:t.pdfUrl,width:"100%",height:"600px",style:{border:"none"}},null,8,Je)):g("",!0)]),_:1})]),_:1})]),_:1},8,["modelValue"])])):(n(),p("div",Xe,Ke))])])]),s(h,{class:"formseparatorWhite"}),e("div",et,[e("div",tt,[e("div",st,[ot,it,s(h,{class:"formseparatorYellow"}),e("div",lt,[s(u,{autogrow:"",rounded:"",outlined:"","model-value":t.IRQADetailss.subjectNote,disable:"","input-class":"q-pa-md"},null,8,["model-value"])])])])]),s(h,{class:"formseparatorWhite"}),e("div",at,[e("div",nt,[e("div",rt,[dt,ct,s(h,{class:"formseparatorYellow"}),e("div",ut,[s(u,{autogrow:"",rounded:"",outlined:"","model-value":t.IRQADetailss.subjectCause,disable:"","input-class":"q-pa-md"},null,8,["model-value"])])])])]),s(h,{class:"formseparatorWhite"}),e("div",pt,[e("div",mt,[e("div",ht,[ft,bt,s(h,{class:"formseparatorYellow"}),e("div",_t,[s(u,{autogrow:"",rounded:"",outlined:"","model-value":t.IRQADetailss.subjectResponse,disable:"","input-class":"q-pa-md"},null,8,["model-value"])])])])])]),_:1}))]),_:1})])]),_:1},8,["modelValue"])]),_:2},1024)]),"body-cell-subject":a(d=>[s(x,{props:d},{default:a(()=>[d.row.subjectSpecificExam?g("",!0):(n(),p("span",gt,b(d.row.subjectName),1)),d.row.subjectSpecificExam?(n(),p("span",Rt,b(d.row.subjectName)+" - "+b(d.row.subjectSpecificExam),1)):g("",!0)]),_:2},1032,["props"])]),"body-cell-divisionCode":a(d=>[s(x,{props:d},{default:a(()=>[e("span",vt,b(c.getAreaLabel(d.row.divisionCode)),1)]),_:2},1032,["props"])]),_:1},8,["rows","columns"])}var Dt=T(X,[["render",xt]]);const yt={props:{items:Array,columns:Array,hrstatus:Object,getInc:Function,DemOp:Object,rcaStats:Object,disCod:Array,disSpeOF:Array,Occurrences:Object,Penalty:Object},data(){return{IRQADetailss:[],Emparties:[],iRNo:"",setHRDialogs:!1,setHRActDialogs:!1,setHRNDialogs:!1,isLoadingIRDetails:!1,IrNo:"",selectedIrNo:"",addNewNote:"",lostRec:"",setFinLiaDialogs:!1,waitplease:!1,setHRNoteDialogs:!1,disEmployees:[],editDems:null,setDemDialogs:!1,IRDialog:!1,setDialogs:!1,setRCADialogs:!1,editDialogs:!1,editDialog:!1,EmployeeCode:"",DisciplineCode:"",SpecificOfNo:"",Occurrence:"",Penalties:"",waitOff:!1,waitNote:!1,pdfDisplayDialog:!1,pdfUrl:null,maximizedToggle:null,subjectFileName:null,subjectFile:null}},computed:{...E({employees:"ApplyStore/employees",getHR:"ApplyStore/getHR"}),filteredSpecificOff(){return this.DisciplineCode?this.disSpeOF.filter(o=>o.DisciplineCode===this.DisciplineCode):this.disSpeOF}},methods:{FormatDate(o){const i=new Date(o),l={year:"numeric",month:"long",day:"2-digit"};return i.toLocaleDateString("en-US",l).toUpperCase().replace(/\s/g," ")},FormatDateIR(o){const i=new Date(o),l={year:"numeric",month:"long",day:"2-digit"};return i.toLocaleDateString("en-US",l).toUpperCase().replace(/\s/g," ")},FormatTime(o){const i=new Date(o);let l=i.getHours();const m=i.getMinutes().toString().padStart(2,"0"),t=l>=12?"PM":"AM";return l=l%12,l=l||12,`${l}:${m} ${t}`},async viewIReport(o){try{this.IRDialog=!0,this.isLoadingIRDetails=!0;const i={iRNo:o};this.selectedIrNo=o;const l=await this.$store.dispatch("ApplyStore/disIrpHR",i);this.IRQADetailss=this.getHR}catch(i){console.error("Error inserting data:",i)}finally{this.isLoadingIRDetails=!1}},viewPDF(o,i){const l=o.replace(/^data:application\/pdf;base64,/,""),m=atob(l),t=new Array(m.length);for(let r=0;r<m.length;r++)t[r]=m.charCodeAt(r);const c=new Uint8Array(t),d=new Blob([c],{type:"application/pdf"});this.pdfUrl=URL.createObjectURL(d),this.pdfDisplayDialog=!0},closepdf(){this.pdfDisplayDialog=!1,this.subjectFile=null},editIRHR(o){this.setHRDialogs=!0,this.IrNo=o},async saveIRHRStatus(){try{const o={IRNo:this.IrNo,HRStatus:!1},i=await this.$store.dispatch("ApplyStore/puthrIR",o);setTimeout(()=>{this.getInc()},2e3),this.$q.notify({color:"green-8",position:"top",message:"SUCCESS CLOSING STATUS",icon:"check",iconColor:"white",timeout:1e3,progress:!0}),this.setHRDialogs=!1,this.HRStatus=""}catch(o){console.error("Error updating status:",o)}},editFinlia(o){this.setFinLiaDialogs=!0,this.IrNo=o},async saveResponse(o){try{this.waitplease=!0;const i={IRNo:this.IrNo,FinancialLiability:o},l=await this.$store.dispatch("ApplyStore/AddfinLia",i);setTimeout(()=>{this.getInc(),this.waitplease=!1},3e3),this.setFinLiaDialogs=!1,this.$q.notify({color:"green-8",position:"top",message:"SUCCESS INPUTTING FIELDS",icon:"check",iconColor:"white",timeout:4e3,progress:!0})}catch(i){console.error("Error inserting data:",i)}},editHRNote(o){this.setHRNDialogs=!0,this.IrNo=o},async ConSubmit(){try{if(!this.validateNOTE()){this.$q.notify({color:"negative",position:"top",message:"REQUIRED ALL FIELDS",icon:"report_problem",iconColor:"white",timeout:2e3,progress:!0}),this.setHRNDialogs=!0;return}const o={newHRNote:this.addNewNote,iRNo:this.IrNo};this.setHRNDialogs=!1,this.waitNote=!0,await this.$store.dispatch("ApplyStore/AddNew",o),setTimeout(()=>{this.getInc(),this.waitNote=!1,this.cancelConclusion()},2e3),this.$q.notify({color:"green-8",position:"top",message:"SUCCESS ADDING CONCLUSION",icon:"check",iconColor:"white",timeout:3e3,progress:!0})}catch(o){console.error("Error inserting data:",o)}},cancelConclusion(){this.IrNo="",this.addNewNote="",this.setHRNDialogs=!1},validateNOTE(){return this.IrNo&&this.addNewNote},editHRNotes(o){this.setHRNoteDialogs=!0,this.IrNo=o},async ConHRSubmit(){try{if(!this.validateHRNOTE()){this.$q.notify({color:"negative",position:"top",message:"REQUIRED ALL FIELDS",icon:"report_problem",iconColor:"white",timeout:2e3,progress:!0}),this.setHRNoteDialogs=!0;return}const o={newHRNote:this.addNewNote,iRNo:this.IrNo};this.setHRNoteDialogs=!1,this.waitNote=!0,setTimeout(()=>{this.getInc(),this.waitNote=!1,this.cancelConclusion()},2e3),this.$q.notify({color:"green-8",position:"top",message:"SUCCESS ADDING CONCLUSION",icon:"check",iconColor:"white",timeout:3e3,progress:!0}),await this.$store.dispatch("ApplyStore/AddNoteNew",o)}catch(o){console.error("Error inserting data:",o)}},cancelHRConclusion(){this.IrNo="",this.addNewNote="",this.setHRNoteDialogs=!1},validateHRNOTE(){return this.IrNo&&this.addNewNote},FilterFn(o,i){if(o===""){i(()=>{this.disEmployees=this.employees});return}i(()=>{const l=o.toLowerCase();this.disEmployees=this.employees.filter(m=>m.FullName.toLowerCase().indexOf(l)>-1)})},addEmParty(){this.Emparties.length<5?this.Emparties.push({EmployeeCode:""}):this.$q.notify({type:"negative",message:"Cannot add more parties"})},removeParty(o){this.Emparties.splice(o,1)},editEmp(o){this.editDialog=!0,this.IrNo=o},async handleSave(){try{if(!this.validateForm()){this.$q.notify({color:"negative",position:"top",message:"REQUIRED ALL FIELDS",icon:"report_problem",iconColor:"white",timeout:2e3,progress:!0}),this.editDialog=!0;return}const o={iRNo:this.IrNo,EmployeeCode:this.Emparties.map(l=>l.EmployeeCode),DisciplineCode:this.DisciplineCode,SpecificOfNo:this.SpecificOfNo,Occurrence:this.Occurrence.value,Penalties:this.Penalties.value},i=await this.$store.dispatch("ApplyStore/EmplDem",o);this.editDialog=!1,this.waitOff=!0,setTimeout(()=>{this.getInc(),this.waitOff=!1,this.onReset()},3e3),this.$q.notify({color:"green-8",position:"top",message:"SUCCESSFUL DEMERITING EMPLOYEES",icon:"check",iconColor:"white",timeout:4e3,progress:!0})}catch(o){console.error("Error inserting data:",o)}},validateForm(){return this.IrNo&&this.Emparties&&this.SpecificOfNo&&this.DisciplineCode&&this.Occurrence&&this.Penalties},onReset(){this.Emparties=[],this.IrNo="",this.DisciplineCode="",this.SpecificOfNo="",this.Occurrence="",this.Penalties="",this.editDialog=!1}}},It={class:"HRVDia"},wt=e("div",{class:"text-secondary text-weight-bold",style:{"font-size":"25px",color:"#002b5c"}}," INCIDENT REPORT INFORMATION ",-1),Nt=e("div",{class:"q-mt-md text-primary text-weight-medium"}," Loading incident details... ",-1),At={class:"row q-col-gutter-md q-mx-lg"},Ct={class:"col-6"},St=e("div",{class:"text-weight-bold",style:{"font-size":"15px",color:"#03254b"}}," Incident Report Number ",-1),Et={class:"col-6"},Tt=e("div",{class:"text-weight-bold",style:{"font-size":"15px",color:"#03254b"}}," Date Report Created ",-1),Ht={class:"HRDesContent"},qt={class:"HRFixDesign"},Ft={class:"HRDes1"},Qt=e("div",{class:"text-primary text-subtitle1 text-weight-bold q-mb-sx"}," General Information ",-1),kt=e("div",{class:"q-mb-sm",style:{"font-size":"15px",color:"#737373"}}," This section contains essential details regarding the incident, including the date, time, location, individuals involved, and the nature of the incident. ",-1),Ot={class:"row q-col-gutter-md q-mx-lg"},Lt={class:"col-6"},jt=e("div",{class:"text-weight-bold",style:{"font-size":"15px",color:"#03254b"}}," Primary (Department/s) ",-1),Pt={key:0},Ut={key:1},Vt={class:"col-6"},zt=e("div",{class:"text-weight-bold",style:{"font-size":"15px",color:"#03254b"}}," Secondary (Department/s) ",-1),$t={key:0},Mt={key:1},Wt={class:"row q-col-gutter-md q-mx-lg q-mt-xs"},Bt={class:"col-6"},Yt=e("div",{class:"text-weight-bold",style:{"font-size":"15px",color:"#03254b"}}," Subject of the Incident ",-1),Gt={key:0},Jt={key:1},Xt={class:"col-6"},Zt=e("div",{class:"text-weight-bold",style:{"font-size":"15px",color:"#03254b"}}," Location of the Incident ",-1),Kt={class:"row q-col-gutter-md q-mx-lg q-mt-xs"},es={class:"col-6"},ts=e("div",{class:"text-weight-bold",style:{"font-size":"15px",color:"#03254b"}}," Date of the Incident ",-1),ss={class:"col-6"},os=e("div",{class:"text-weight-bold",style:{"font-size":"15px",color:"#03254b"}}," Time of the Incident ",-1),is={class:"HRDesContent"},ls={class:"HRFixDesign"},as={class:"HRDes1"},ns=e("div",{class:"text-primary text-subtitle1 text-weight-bold q-mb-sx"}," Topic ",-1),rs=e("div",{class:"q-mb-sm",style:{"font-size":"15px",color:"#737373"}}," Short description of the Incident ",-1),ds={class:"q-mx-xl"},cs={class:"HRDesContent"},us={class:"HRFixDesign"},ps={class:"HRDes1"},ms=e("div",{class:"text-primary text-subtitle1 text-weight-bold q-mb-sx"}," Attached File ",-1),hs=e("div",{class:"q-mb-sm",style:{"font-size":"15px",color:"#737373"}}," The attached files support the accurate review and proper documentation of this incident report. ",-1),fs={class:"text-red text-subtitle2 text-weight-bold q-mb-sx q-mx-xl"},bs={key:0,class:"HRFileDes row flex-start q-mx-xl",style:{"border-radius":"25px"}},_s=["onClick"],gs={style:{display:"flex","align-items":"center",gap:"10px","background-color":"#f5f5f5",padding:"8px 12px","border-radius":"6px",border:"1px solid #dcdcdc",width:"fit-content"}},Rs={class:"text-dark text-subtitle2"},vs={class:"bg-info text-white"},xs=e("div",{class:"text-h6 q-mx-md"},"UPLOADED PDF FILES",-1),Ds=["src"],ys={key:1,class:"HRFileDes column flex-center q-mx-xl",style:{"border-radius":"25px"}},Is=e("div",{class:"text-subtitle1 items-center text-weight-bold text-dark"},[e("i",null,"~ NO FILE ATTACHED ~")],-1),ws=[Is],Ns={class:"HRDesContent"},As={class:"HRFixDesign"},Cs={class:"HRDes1"},Ss=e("div",{class:"text-primary text-subtitle1 text-weight-bold q-mb-sx"}," Narrative Description of the Incident ",-1),Es=e("div",{class:"q-mb-sm",style:{"font-size":"15px",color:"#737373"}}," Provided detailed of how the incident transpired, including the sequence of events, contributing factors, and individuals involved. ",-1),Ts={class:"q-mx-xl"},Hs={class:"HRDesContent"},qs={class:"HRFixDesign"},Fs={class:"HRDes1"},Qs=e("div",{class:"text-primary text-subtitle1 text-weight-bold q-mb-sx"}," Possible Causes of the Incident ",-1),ks=e("div",{class:"q-mb-sm",style:{"font-size":"15px",color:"#737373"}}," Possible reason on the perspective of the Informant. ",-1),Os={class:"q-mx-xl"},Ls={class:"HRDesContent"},js={class:"HRFixDesign"},Ps={class:"HRDes1"},Us=e("div",{class:"text-primary text-subtitle1 text-weight-bold q-mb-sx"}," Immediate Response ",-1),Vs=e("div",{class:"q-mb-sm",style:{"font-size":"15px",color:"#737373"}}," Action taken by the concerned department or by the Informant to ease the incident. ",-1),zs={class:"q-mx-xl"},$s={class:"text-dark text-bold text-center"},Ms={key:0,class:"text-positive text-bold text-center"},Ws={key:1,class:"text-negative text-bold text-center"};function Bs(o,i,l,m,t,c){return n(),_(z,{rows:l.items,columns:l.columns,"row-key":"IRNo"},{"body-cell-viewIR":a(d=>[s(x,null,{default:a(()=>[s(v,{push:"",onClick:r=>c.viewIReport(d.row.iRNo),ripple:{center:!0},color:"accent",icon:"description",class:"text-black text-bold text-center shadow-5",style:{"border-radius":"20px",width:"125px"}},null,8,["onClick"]),s(C,{maximized:"",modelValue:t.IRDialog,"onUpdate:modelValue":i[3]||(i[3]=r=>t.IRDialog=r),persistent:""},{default:a(()=>[e("div",It,[s(y,{class:"contentFormHR"},{default:a(()=>[s(R,{class:"q-mb-sm row items-center justify-between"},{default:a(()=>[wt,I((n(),_(v,{flat:"",icon:"close",style:{color:"#003566","background-color":"rgba(22, 110, 204, 0.1)"},onClick:i[0]||(i[0]=r=>t.IRDialog=!1)},{default:a(()=>[s(V,{class:"bg-info text-white"},{default:a(()=>[w(" Close Form ")]),_:1})]),_:1})),[[$]])]),_:1}),t.isLoadingIRDetails?(n(),_(R,{key:0,class:"column flex-center q-pa-xl",style:{height:"400px"}},{default:a(()=>[s(P,{size:"60px",color:"primary"}),Nt]),_:1})):(n(),_(R,{key:1,style:{border:"2px solid #6b7c93"}},{default:a(()=>[e("div",At,[e("div",Ct,[St,s(u,{rounded:"",outlined:"","model-value":t.IRQADetailss.iRNo,disable:""},null,8,["model-value"])]),e("div",Et,[Tt,s(u,{rounded:"",outlined:"","model-value":c.FormatDateIR(t.IRQADetailss.dateTimeCreated),disable:""},null,8,["model-value"])])]),s(h,{class:"formseparatorWhite"}),e("div",Ht,[e("div",qt,[e("div",Ft,[Qt,kt,s(h,{class:"formseparatorYellow"}),e("div",Ot,[e("div",Lt,[jt,t.IRQADetailss.primaryDept?(n(),p("span",Ut,[s(u,{rounded:"",outlined:"","model-value":t.IRQADetailss.primaryDept,disable:""},null,8,["model-value"])])):(n(),p("span",Pt,[s(u,{rounded:"",outlined:"",label:"Not Assigned",disable:""})]))]),e("div",Vt,[zt,t.IRQADetailss.deptCodeInvDescriptions?(n(),p("span",Mt,[s(u,{rounded:"",outlined:"",autogrow:"","model-value":t.IRQADetailss.deptCodeInvDescriptions,disable:""},null,8,["model-value"])])):(n(),p("span",$t,[s(u,{rounded:"",outlined:"",label:"Not Assigned",disable:""})]))])]),e("div",Wt,[e("div",Bt,[Yt,t.IRQADetailss.subjectSpecificExam?(n(),p("span",Gt,[s(u,{rounded:"",outlined:"","model-value":t.IRQADetailss.subjectName+" - "+t.IRQADetailss.subjectSpecificExam,disable:""},null,8,["model-value"])])):t.IRQADetailss.subjectSpecificExam===null?(n(),p("span",Jt,[s(u,{rounded:"",outlined:"","model-value":t.IRQADetailss.subjectName,disable:""},null,8,["model-value"])])):g("",!0)]),e("div",Xt,[Zt,s(u,{rounded:"",outlined:"","model-value":t.IRQADetailss.subjectLoc,disable:""},null,8,["model-value"])])]),e("div",Kt,[e("div",es,[ts,s(u,{rounded:"",outlined:"","model-value":c.FormatDate(t.IRQADetailss.subjectDate),disable:""},null,8,["model-value"])]),e("div",ss,[os,s(u,{rounded:"",outlined:"","model-value":c.FormatTime(t.IRQADetailss.subjectTime),disable:""},null,8,["model-value"])])])])])]),s(h,{class:"formseparatorWhite"}),e("div",is,[e("div",ls,[e("div",as,[ns,rs,s(h,{class:"formseparatorYellow"}),e("div",ds,[s(u,{autogrow:"",rounded:"",outlined:"","model-value":t.IRQADetailss.subjectTopic||"None",disable:"","input-class":"q-pa-md"},null,8,["model-value"])])])])]),s(h,{class:"formseparatorWhite"}),e("div",cs,[e("div",us,[e("div",ps,[ms,hs,s(h,{class:"formseparatorYellow"}),e("div",fs," Number of file: "+b(t.IRQADetailss.totalAttachments),1),t.IRQADetailss.files&&t.IRQADetailss.files.length?(n(),p("div",bs,[(n(!0),p(D,null,N(t.IRQADetailss.files,(r,f)=>(n(),p("div",{key:f,style:{display:"flex","align-items":"start",gap:"5px",background:"#e3f2fd",padding:"8px","border-radius":"4px","margin-bottom":"5px",cursor:"pointer"},onClick:U(S=>c.viewPDF(r.subjectFile,r.subjectFileName),["stop"])},[e("div",gs,[s(A,{name:"description",size:"24px",color:"grey-7"}),e("div",Rs,b(r.subjectFileName),1)])],8,_s))),128)),s(C,{modelValue:t.pdfDisplayDialog,"onUpdate:modelValue":i[2]||(i[2]=r=>t.pdfDisplayDialog=r)},{default:a(()=>[s(y,{style:{width:"90vw","max-width":"1100px"}},{default:a(()=>[e("div",vs,[xs,s(v,{icon:"close",flat:"",round:"",dense:"",onClick:i[1]||(i[1]=r=>t.pdfDisplayDialog=!1),class:"absolute-top-right"})]),s(R,null,{default:a(()=>[t.pdfUrl?(n(),p("iframe",{key:0,src:t.pdfUrl,width:"100%",height:"600px",style:{border:"none"}},null,8,Ds)):g("",!0)]),_:1})]),_:1})]),_:1},8,["modelValue"])])):(n(),p("div",ys,ws))])])]),s(h,{class:"formseparatorWhite"}),e("div",Ns,[e("div",As,[e("div",Cs,[Ss,Es,s(h,{class:"formseparatorYellow"}),e("div",Ts,[s(u,{autogrow:"",rounded:"",outlined:"","model-value":t.IRQADetailss.subjectNote,disable:"","input-class":"q-pa-md"},null,8,["model-value"])])])])]),s(h,{class:"formseparatorWhite"}),e("div",Hs,[e("div",qs,[e("div",Fs,[Qs,ks,s(h,{class:"formseparatorYellow"}),e("div",Os,[s(u,{autogrow:"",rounded:"",outlined:"","model-value":t.IRQADetailss.subjectCause,disable:"","input-class":"q-pa-md"},null,8,["model-value"])])])])]),s(h,{class:"formseparatorWhite"}),e("div",Ls,[e("div",js,[e("div",Ps,[Us,Vs,s(h,{class:"formseparatorYellow"}),e("div",zs,[s(u,{autogrow:"",rounded:"",outlined:"","model-value":t.IRQADetailss.subjectResponse,disable:"","input-class":"q-pa-md"},null,8,["model-value"])])])])])]),_:1}))]),_:1})])]),_:1},8,["modelValue"])]),_:2},1024)]),"body-cell-QA":a(d=>[s(x,{props:d},{default:a(()=>[e("span",$s,b(d.row.mainFullName),1)]),_:2},1032,["props"])]),"body-cell-hrReferral":a(d=>[s(x,null,{default:a(()=>[d.row.hrReferral===1?(n(),p("span",Ms,"YES")):g("",!0),d.row.hrReferral===2?(n(),p("span",Ws,"NO")):g("",!0)]),_:2},1024)]),_:1},8,["rows","columns"])}var Ys=T(yt,[["render",Bs]]);const Gs={data(){return{loading:!0,showTable:!1,hrTab:"reportable",disRepAll:[],disRefAll:[],disEmployees:[],disRefColumns:[{name:"viewIR",label:"INCIDENT REPORT DETAILS",align:"left",field:"id"},{name:"IRNo",label:"IRNUMBER",align:"left",field:"iRNo"},{name:"departmentNumber",label:"INCIDENT RESPONDER (DEPARTMENT)",align:"left",field:"department_Description"},{name:"subject",label:"SUBJECT OF THE INCIDENT",align:"left",field:"subjectName"},{name:"topic",label:"TOPIC",align:"left",field:"subjectTopic"},{name:"QA",label:"QA IN-CHARGE",align:"left",field:"id"},{name:"hrReferral",label:"HR REFERRAL",align:"left",field:"hrReferral,"},{name:"divisionCode",label:"AREA",align:"left",field:"divisionCode"}],disRepColumns:[{name:"viewIR",label:"INCIDENT REPORT DETAILS",align:"left",field:"id"},{name:"IRNo",label:"IRNUMBER",align:"left",field:"iRNo"},{name:"departmentNumber",label:"INCIDENT RESPONDER (DEPARTMENT)",align:"left",field:"department_Description"},{name:"subject",label:"SUBJECT OF THE INCIDENT",align:"left",field:"subjectName"},{name:"topic",label:"TOPIC",align:"left",field:"subjectTopic"},{name:"divisionCode",label:"AREA",align:"left",field:"divisionCode"}],hrStats:[{label:"OPEN",value:!0},{label:"CLOSED",value:!1}],Occurrences:[{label:"1ST",value:"1ST"},{label:"2ND",value:"2ND"},{label:"3RD",value:"3RD"},{label:"4TH",value:"4TH"},{label:"5TH",value:"5TH"}],Penalty:[{label:"VERBAL WARNING",value:"VERBAL WARNING"},{label:"WRITTEN WARNING",value:"WRITTEN WARNING"},{label:"SUSPENSION",value:"SUSPENSION"},{label:"DISMISSAL",value:"DISMISSAL"}],disCod:[],disSpeOF:[],date:new Date,selectedStatus:null,searchRefQuery:"",DisciplineCode:null,PenaltiesCode:null,searchRepQuery:"",selectedAreaValue:null,selectedRepStatus:null,areaDivValue:[{label:"ACADEME",value:"ACD-01"},{label:"HOSPITAL",value:"HST-02"},{label:"ADMIN",value:"ADM-03"}]}},computed:{...E({getForm:"ApplyStore/getForm",getHR:"ApplyStore/getHR",departments:"ApplyStore/departments"}),filteredRefDisAll(){const{disRefAll:o,selectedStatus:i,selectedAreaValue:l,searchRefQuery:m}=this;let t=[...o];if(i&&typeof i=="object"){const{value:c}=i;t=t.filter(d=>d.HRStatus===c)}if(l&&typeof l=="object"){const{value:c}=l;t=t.filter(d=>d.divisionCode===c)}if(m&&typeof m=="string"){const c=m.toLowerCase();t=t.filter(d=>Object.values(d).some(r=>typeof r=="string"&&r.toLowerCase().includes(c)))}return t},filteredRepDisAll(){const{disRepAll:o,selectedRepStatus:i,selectedAreaValue:l,searchRepQuery:m}=this;let t=[...o];if(i&&typeof i=="object"){const{value:c}=i;t=t.filter(d=>d.HRStatus===c)}if(l&&typeof l=="object"){const{value:c}=l;t=t.filter(d=>d.divisionCode===c)}if(m&&typeof m=="string"){const c=m.toLowerCase();t=t.filter(d=>Object.values(d).some(r=>typeof r=="string"&&r.toLowerCase().includes(c)))}return t}},components:{hrRepComponentsTable:Dt,hrRefComponentsTable:Ys},mounted(){setTimeout(()=>{this.showTable=!0,this.disAll,this.loading=!1},3e3)},created(){this.getHRRepInc(),this.getHRRefInc()},methods:{async getHRRepInc(){try{await this.$store.dispatch("ApplyStore/disHRRep"),this.disRepAll=this.getHR}catch(o){console.error("Error inserting data:",o)}},async getHRRefInc(){try{await this.$store.dispatch("ApplyStore/disHRRef"),this.disRefAll=this.getForm}catch(o){console.error("Error inserting data:",o)}},search(){},async selectStatus(o){this.selectedStatus=o},selectArea(o){this.selectedAreaValue=o}}},Js={id:"q-app",style:{position:"relative","z-index":"1"}},Xs={style:{height:"100%",width:"100%"},class:"q-pa-lg"},Zs=e("div",{class:"row items-center justify-between q-mb-md bg-white q-pa-sm rounded-borders shadow-1",style:{"border-radius":"10px"}},[e("div",null,[e("div",{class:"text-primary text-weight-bold",style:{"font-size":"30px"}}," HUMAN RESOURCES MODULE "),e("div",{style:{"font-size":"18px",color:"#333333"}}," Incident Report Details ")])],-1),Ks={key:0,class:"fixed-full flex flex-center column q-gutter-md",style:{"background-color":"rgba(255, 255, 255, 0.7)","z-index":"9999"}},eo=e("div",{class:"text-subtitle1 text-primary"},"Please wait...",-1),to={class:"row items-center justify-between q-mb-md"},so={class:"row items-center justify-between q-mb-md"},oo=e("img",{src:J,style:{position:"absolute",top:"0",left:"0",width:"100%",height:"100%","z-index":"0"}},null,-1);function io(o,i,l,m,t,c){const d=H("hrRepComponentsTable"),r=H("hrRefComponentsTable");return n(),p(D,null,[e("div",Js,[e("div",Xs,[Zs,s(R,{class:"bg-white q-pa-lg rounded-borders shadow-1 q-mb-md"},{default:a(()=>[t.loading?(n(),p("div",Ks,[s(M,{size:"150px",color:"primary"}),eo])):g("",!0),s(W,{class:"bg-secondary text-white shadow-2 rounded-borders"},{default:a(()=>[s(v,{flat:"",label:"All Items",class:"text-h6"}),s(B),s(Y,{modelValue:t.hrTab,"onUpdate:modelValue":i[0]||(i[0]=f=>t.hrTab=f),shrink:"",stretch:""},{default:a(()=>[s(L,{name:"reportable",label:"Reportable Incident"}),s(L,{name:"hrReferral",label:"Human Resources (HR) Referral"})]),_:1},8,["modelValue"])]),_:1}),s(G,{modelValue:t.hrTab,"onUpdate:modelValue":i[3]||(i[3]=f=>t.hrTab=f),animated:"",class:"q-mt-sm tab-panels-bordered rounded-borders bg-warning shadow-4"},{default:a(()=>[s(j,{name:"reportable"},{default:a(()=>[e("div",to,[s(q,{rounded:"",label:"FILTER AREA","menu-anchor":"top right",style:{width:"25ch"},class:"bg-info text-white q-mr-sm"},{default:a(()=>[s(F,null,{default:a(()=>[(n(!0),p(D,null,N(t.areaDivValue,f=>(n(),_(k,{key:f.value,clickable:"",onClick:S=>c.selectArea(f)},{default:a(()=>[s(O,null,{default:a(()=>[w(b(f.label),1)]),_:2},1024)]),_:2},1032,["onClick"]))),128))]),_:1})]),_:1}),s(u,{modelValue:t.searchRepQuery,"onUpdate:modelValue":i[1]||(i[1]=f=>t.searchRepQuery=f),label:"SEARCH ",dense:"",outlined:"",rounded:""},{append:a(()=>[s(A,{name:"search",color:"info"})]),_:1},8,["modelValue"])]),I(s(d,{items:c.filteredRepDisAll,pagination:{rowsPerPage:8},columns:t.disRepColumns,style:{"border-collapse":"collapse"},loading:t.loading},null,8,["items","columns","loading"]),[[Q,t.showTable]])]),_:1}),s(j,{name:"hrReferral"},{default:a(()=>[e("div",so,[s(q,{rounded:"",label:"FILTER AREA","menu-anchor":"top right",style:{width:"25ch"},class:"bg-info text-white q-mr-sm"},{default:a(()=>[s(F,null,{default:a(()=>[(n(!0),p(D,null,N(t.areaDivValue,f=>(n(),_(k,{key:f.value,clickable:"",onClick:S=>c.selectArea(f)},{default:a(()=>[s(O,null,{default:a(()=>[w(b(f.label),1)]),_:2},1024)]),_:2},1032,["onClick"]))),128))]),_:1})]),_:1}),s(u,{modelValue:t.searchRefQuery,"onUpdate:modelValue":i[2]||(i[2]=f=>t.searchRefQuery=f),label:"SEARCH ",dense:"",outlined:"",rounded:""},{append:a(()=>[s(A,{name:"search",color:"info"})]),_:1},8,["modelValue"])]),I(s(r,{items:c.filteredRefDisAll,pagination:{rowsPerPage:8},columns:t.disRefColumns,hrStats:t.hrStats,getInc:o.getInc,disCod:t.disCod,disSpeOF:t.disSpeOF,Occurrences:t.Occurrences,Penalty:t.Penalty,style:{"border-collapse":"collapse"},loading:t.loading},null,8,["items","columns","hrStats","getInc","disCod","disSpeOF","Occurrences","Penalty","loading"]),[[Q,t.showTable]])]),_:1})]),_:1},8,["modelValue"])]),_:1})])]),oo],64)}var Ro=T(Gs,[["render",io]]);export{Ro as default};
