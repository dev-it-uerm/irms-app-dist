import{M as A,E as ne,F as oe,q as n,C as m,p as I,ad as se,ae as le,af as ue,r as E,ag as re,ah as ce,ai as de,aj as me,ak as fe,al as ve,k as L,am as ge,an as he,ao as O,ap as K,x as xe,n as ye,T as Q,J as qe,aq as ke,ar as be}from"./index.20632f5b.js";const Be={true:"inset",item:"item-inset","item-thumbnail":"item-thumbnail-inset"},C={xs:2,sm:4,md:8,lg:16,xl:24};var Te=A({name:"QSeparator",props:{...ne,spaced:[Boolean,String],inset:[Boolean,String],vertical:Boolean,color:String,size:String},setup(e){const y=I(),u=oe(e,y.proxy.$q),f=n(()=>e.vertical===!0?"vertical":"horizontal"),d=n(()=>` q-separator--${f.value}`),o=n(()=>e.inset!==!1?`${d.value}-${Be[e.inset]}`:""),l=n(()=>`q-separator${d.value}${o.value}`+(e.color!==void 0?` bg-${e.color}`:"")+(u.value===!0?" q-separator--dark":"")),r=n(()=>{const i={};if(e.size!==void 0&&(i[e.vertical===!0?"width":"height"]=e.size),e.spaced!==!1){const s=e.spaced===!0?`${C.md}px`:e.spaced in C?`${C[e.spaced]}px`:e.spaced,c=e.vertical===!0?["Left","Right"]:["Top","Bottom"];i[`margin${c[0]}`]=i[`margin${c[1]}`]=s}return i});return()=>m("hr",{class:l.value,style:r.value,"aria-orientation":f.value})}});let x=0;const Se={standard:"fixed-full flex-center",top:"fixed-top justify-center",bottom:"fixed-bottom justify-center",right:"fixed-right items-center",left:"fixed-left items-center"},j={standard:["scale","scale"],top:["slide-down","slide-up"],bottom:["slide-up","slide-down"],right:["slide-left","slide-right"],left:["slide-right","slide-left"]};var Ee=A({name:"QDialog",inheritAttrs:!1,props:{...se,...le,transitionShow:String,transitionHide:String,persistent:Boolean,autoClose:Boolean,allowFocusOutside:Boolean,noEscDismiss:Boolean,noBackdropDismiss:Boolean,noRouteDismiss:Boolean,noRefocus:Boolean,noFocus:Boolean,noShake:Boolean,seamless:Boolean,maximized:Boolean,fullWidth:Boolean,fullHeight:Boolean,square:Boolean,position:{type:String,default:"standard",validator:e=>e==="standard"||["top","bottom","left","right"].includes(e)}},emits:[...ue,"shake","click","escapeKey"],setup(e,{slots:y,emit:u,attrs:f}){const d=I(),o=E(null),l=E(!1),r=E(!1);let i=null,s=null,c,q;const _=n(()=>e.persistent!==!0&&e.noRouteDismiss!==!0&&e.seamless!==!0),{preventBodyScroll:$}=ke(),{registerTimeout:z}=re(),{registerTick:V,removeTick:D}=ce(),{transitionProps:W,transitionStyle:F}=de(e,()=>j[e.position][0],()=>j[e.position][1]),{showPortal:M,hidePortal:H,portalIsAccessible:J,renderPortal:U}=me(d,o,ie,"dialog"),{hide:g}=fe({showing:l,hideOnRouteChange:_,handleShow:p,handleHide:ee,processOnMount:!0}),{addToHistory:G,removeFromHistory:N}=ve(l,g,_),X=n(()=>`q-dialog__inner flex no-pointer-events q-dialog__inner--${e.maximized===!0?"maximized":"minimized"} q-dialog__inner--${e.position} ${Se[e.position]}`+(r.value===!0?" q-dialog__inner--animating":"")+(e.fullWidth===!0?" q-dialog__inner--fullwidth":"")+(e.fullHeight===!0?" q-dialog__inner--fullheight":"")+(e.square===!0?" q-dialog__inner--square":"")),h=n(()=>l.value===!0&&e.seamless!==!0),Y=n(()=>e.autoClose===!0?{onClick:te}:{}),Z=n(()=>[`q-dialog fullscreen no-pointer-events q-dialog--${h.value===!0?"modal":"seamless"}`,f.class]);L(()=>e.maximized,t=>{l.value===!0&&B(t)}),L(h,t=>{$(t),t===!0?(ge(S),he(b)):(O(S),K(b))});function p(t){G(),s=e.noRefocus===!1&&document.activeElement!==null?document.activeElement:null,B(e.maximized),M(),r.value=!0,e.noFocus!==!0?(document.activeElement!==null&&document.activeElement.blur(),V(v)):D(),z(()=>{if(d.proxy.$q.platform.is.ios===!0){if(e.seamless!==!0&&document.activeElement){const{top:a,bottom:w}=document.activeElement.getBoundingClientRect(),{innerHeight:R}=window,T=window.visualViewport!==void 0?window.visualViewport.height:R;a>0&&w>T/2&&(document.scrollingElement.scrollTop=Math.min(document.scrollingElement.scrollHeight-T,w>=R?1/0:Math.ceil(document.scrollingElement.scrollTop+w-T/2))),document.activeElement.scrollIntoView()}q=!0,o.value.click(),q=!1}M(!0),r.value=!1,u("show",t)},e.transitionDuration)}function ee(t){D(),N(),P(!0),r.value=!0,H(),s!==null&&(((t&&t.type.indexOf("key")===0?s.closest('[tabindex]:not([tabindex^="-"])'):void 0)||s).focus(),s=null),z(()=>{H(!0),r.value=!1,u("hide",t)},e.transitionDuration)}function v(t){xe(()=>{let a=o.value;a===null||a.contains(document.activeElement)===!0||(a=(t!==""?a.querySelector(t):null)||a.querySelector("[autofocus][tabindex], [data-autofocus][tabindex]")||a.querySelector("[autofocus] [tabindex], [data-autofocus] [tabindex]")||a.querySelector("[autofocus], [data-autofocus]")||a,a.focus({preventScroll:!0}))})}function k(t){t&&typeof t.focus=="function"?t.focus({preventScroll:!0}):v(),u("shake");const a=o.value;a!==null&&(a.classList.remove("q-animate--scale"),a.classList.add("q-animate--scale"),i!==null&&clearTimeout(i),i=setTimeout(()=>{i=null,o.value!==null&&(a.classList.remove("q-animate--scale"),v())},170))}function b(){e.seamless!==!0&&(e.persistent===!0||e.noEscDismiss===!0?e.maximized!==!0&&e.noShake!==!0&&k():(u("escapeKey"),g()))}function P(t){i!==null&&(clearTimeout(i),i=null),(t===!0||l.value===!0)&&(B(!1),e.seamless!==!0&&($(!1),O(S),K(b))),t!==!0&&(s=null)}function B(t){t===!0?c!==!0&&(x<1&&document.body.classList.add("q-body--dialog"),x++,c=!0):c===!0&&(x<2&&document.body.classList.remove("q-body--dialog"),x--,c=!1)}function te(t){q!==!0&&(g(t),u("click",t))}function ae(t){e.persistent!==!0&&e.noBackdropDismiss!==!0?g(t):e.noShake!==!0&&k()}function S(t){e.allowFocusOutside!==!0&&J.value===!0&&be(o.value,t.target)!==!0&&v('[tabindex]:not([tabindex="-1"])')}Object.assign(d.proxy,{focus:v,shake:k,__updateRefocusTarget(t){s=t||null}}),ye(P);function ie(){return m("div",{role:"dialog","aria-modal":h.value===!0?"true":"false",...f,class:Z.value},[m(Q,{name:"q-transition--fade",appear:!0},()=>h.value===!0?m("div",{class:"q-dialog__backdrop fixed-full",style:F.value,"aria-hidden":"true",tabindex:-1,onClick:ae}):null),m(Q,W.value,()=>l.value===!0?m("div",{ref:o,class:X.value,style:F.value,tabindex:-1,...Y.value},qe(y.default)):null)])}return U}});export{Te as Q,Ee as a};
