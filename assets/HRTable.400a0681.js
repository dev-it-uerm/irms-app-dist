import{a as g,Q as j}from"./QTd.db4cf0ff.js";import{m as N,_ as A,o as r,g as D,w as a,e as s,h as b,d as e,a5 as v,ac as y,ab as T,c as u,a2 as _,f as F,Q as x,a3 as w,Z as C,R as k,a0 as P,aX as S}from"./index.d5855d0e.js";import{Q as L}from"./QSpace.e472e4f8.js";import{Q as U,a as E,b as z,c as H}from"./QTabPanels.083c6bda.js";import{Q as R,a as n}from"./QCardSection.519f9ade.js";import{Q}from"./QTooltip.cf3e383d.js";import{a as I,Q as p}from"./QDialog.e2f94e03.js";import{Q as q}from"./QTable.a29c1a77.js";import{C as O}from"./ClosePopup.2e6160b5.js";import{_ as V}from"./OMBRE-GRAY.d27a82e0.js";import"./QSelect.f818cd02.js";import"./use-cache.b0833c75.js";import"./QMarkupTable.dfaff9b9.js";const $={props:{items:Array,columns:Array},data(){return{IRDialog:!1,IRQADetailss:[],pdfDisplayDialog:!1,pdfUrl:null,maximizedToggle:null,subjectFileName:null,subjectFile:null}},computed:{...N({getHR:"ApplyStore/getHR"})},methods:{FormatDate(o){const i=new Date(o),l={year:"numeric",month:"long",day:"2-digit"};return i.toLocaleDateString("en-US",l).toUpperCase().replace(/\s/g," ")},FormatDateIR(o){const i=new Date(o),l={year:"numeric",month:"long",day:"2-digit"};return i.toLocaleDateString("en-US",l).toUpperCase().replace(/\s/g," ")},FormatTime(o){const i=new Date(o);let l=i.getHours();const d=i.getMinutes().toString().padStart(2,"0"),t=l>=12?"PM":"AM";return l=l%12,l=l||12,`${l}:${d} ${t}`},async viewIReport(o){try{this.IRDialog=!0;const i={iRNo:o};this.selectedIrNo=o;const l=await this.$store.dispatch("ApplyStore/disIrpHR",i);this.IRQADetailss=this.getHR}catch(i){console.error("Error inserting data:",i)}},viewPDF(o){this.pdfUrl="data:application/pdf;base64,"+o,this.pdfDisplayDialog=!0},closepdf(){this.pdfDisplayDialog=!1,this.subjectFile=null}}},M={class:"HRVDia"},W=e("div",{class:"text-secondary text-weight-bold",style:{"font-size":"25px",color:"#002b5c"}}," INCIDENT REPORT INFORMATION ",-1),G={class:"row q-col-gutter-md q-mx-lg"},B={class:"col-6"},Y=e("div",{class:"text-weight-bold",style:{"font-size":"15px",color:"#03254b"}}," Incident Report Number ",-1),J={class:"col-6"},X=e("div",{class:"text-weight-bold",style:{"font-size":"15px",color:"#03254b"}}," Date Report Created ",-1),Z={class:"HRDesContent"},K={class:"HRFixDesign"},ee={class:"HRDes1"},te=e("div",{class:"text-primary text-subtitle1 text-weight-bold q-mb-sx"}," General Information ",-1),se=e("div",{class:"q-mb-sm",style:{"font-size":"15px",color:"#737373"}}," This section contains essential details regarding the incident, including the date, time, location, individuals involved, and the nature of the incident. ",-1),oe={class:"row q-col-gutter-md q-mx-lg"},ie={class:"col-6"},le=e("div",{class:"text-weight-bold",style:{"font-size":"15px",color:"#03254b"}}," Primary (Department/s) ",-1),ae={key:0},ne={key:1},re={class:"col-6"},de=e("div",{class:"text-weight-bold",style:{"font-size":"15px",color:"#03254b"}}," Secondary (Department/s) ",-1),ce={key:0},ue={key:1},pe={class:"row q-col-gutter-md q-mx-lg q-mt-xs"},me={class:"col-6"},he=e("div",{class:"text-weight-bold",style:{"font-size":"15px",color:"#03254b"}}," Subject of the Incident ",-1),fe={key:0},_e={key:1},be={class:"col-6"},Re=e("div",{class:"text-weight-bold",style:{"font-size":"15px",color:"#03254b"}}," Location of the Incident ",-1),ge={class:"row q-col-gutter-md q-mx-lg q-mt-xs"},De={class:"col-6"},ve=e("div",{class:"text-weight-bold",style:{"font-size":"15px",color:"#03254b"}}," Date of the Incident ",-1),ye={class:"col-6"},xe=e("div",{class:"text-weight-bold",style:{"font-size":"15px",color:"#03254b"}}," Time of the Incident ",-1),Ie={class:"HRDesContent"},we={class:"HRFixDesign"},Ne={class:"HRDes1"},Ae=e("div",{class:"text-primary text-subtitle1 text-weight-bold q-mb-sx"}," Attached File ",-1),Ce=e("div",{class:"q-mb-sm",style:{"font-size":"15px",color:"#737373"}}," The attached files support the accurate review and proper documentation of this incident report. ",-1),Se={key:0,class:"HRFileDes column flex-center"},Ee={class:"text-dark text-left text-subtitle1"},He={class:"bg-info text-white"},Te=e("div",{class:"IRND"},"UPLOADED PDF FILES",-1),Fe=["src"],Qe={key:1,class:"HRFileDes column flex-center"},qe=e("div",{class:"text-subtitle1 items-center text-weight-bold text-dark"},[e("i",null,"~ NO FILE ATTACHED ~")],-1),Oe=[qe],je={class:"HRDesContent"},ke={class:"HRFixDesign"},Pe={class:"HRDes1"},Le=e("div",{class:"text-primary text-subtitle1 text-weight-bold q-mb-sx"}," Narrative Description of the Incident ",-1),Ue=e("div",{class:"q-mb-sm",style:{"font-size":"15px",color:"#737373"}}," Provided detailed of how the incident transpired, including the sequence of events, contributing factors, and individuals involved. ",-1),ze={class:"q-mx-xl"},Ve={class:"HRDesContent"},$e={class:"HRFixDesign"},Me={class:"HRDes1"},We=e("div",{class:"text-primary text-subtitle1 text-weight-bold q-mb-sx"}," Possible Causes of the Incident ",-1),Ge=e("div",{class:"q-mb-sm",style:{"font-size":"15px",color:"#737373"}}," Possible reason on the perspective of the Informant. ",-1),Be={class:"q-mx-xl"},Ye={class:"HRDesContent"},Je={class:"HRFixDesign"},Xe={class:"HRDes1"},Ze=e("div",{class:"text-primary text-subtitle1 text-weight-bold q-mb-sx"}," Immediate Response ",-1),Ke=e("div",{class:"q-mb-sm",style:{"font-size":"15px",color:"#737373"}}," Action taken by the concerned department or by the Informant to ease the incident. ",-1),et={class:"q-mx-xl"};function tt(o,i,l,d,t,c){return r(),D(q,{rows:l.items,columns:l.columns,"row-key":"IRNo"},{"body-cell-viewIR":a(m=>[s(g,null,{default:a(()=>[s(b,{push:"",onClick:h=>c.viewIReport(m.row.iRNo),ripple:{center:!0},color:"accent",icon:"description",class:"text-black text-bold text-center shadow-5",style:{"border-radius":"20px",width:"125px"}},null,8,["onClick"]),s(I,{maximized:"",modelValue:t.IRDialog,"onUpdate:modelValue":i[4]||(i[4]=h=>t.IRDialog=h),persistent:""},{default:a(()=>[e("div",M,[s(v,{class:"contentFormHR"},{default:a(()=>[s(R,{class:"q-mb-sm row items-center justify-between"},{default:a(()=>[W,y((r(),D(b,{flat:"",icon:"close",style:{color:"#003566","background-color":"rgba(22, 110, 204, 0.1)"},onClick:i[0]||(i[0]=h=>t.IRDialog=!1)},{default:a(()=>[s(Q,{class:"bg-info text-white"},{default:a(()=>[T(" Close Form ")]),_:1})]),_:1})),[[O]])]),_:1}),s(R,{style:{border:"2px solid #6b7c93"}},{default:a(()=>[e("div",G,[e("div",B,[Y,s(n,{rounded:"",outlined:"","model-value":t.IRQADetailss.iRNo,disable:""},null,8,["model-value"])]),e("div",J,[X,s(n,{rounded:"",outlined:"","model-value":c.FormatDateIR(t.IRQADetailss.dateTimeCreated),disable:""},null,8,["model-value"])])]),s(p,{class:"formseparatorWhite"}),e("div",Z,[e("div",K,[e("div",ee,[te,se,s(p,{class:"formseparatorYellow"}),e("div",oe,[e("div",ie,[le,t.IRQADetailss.primaryDept?(r(),u("span",ne,[s(n,{rounded:"",outlined:"","model-value":t.IRQADetailss.primaryDept,disable:""},null,8,["model-value"])])):(r(),u("span",ae,[s(n,{rounded:"",outlined:"",label:"Not Assigned",disable:""})]))]),e("div",re,[de,t.IRQADetailss.deptCodeInvDescriptions?(r(),u("span",ue,[s(n,{rounded:"",outlined:"",autogrow:"","model-value":t.IRQADetailss.deptCodeInvDescriptions,disable:""},null,8,["model-value"])])):(r(),u("span",ce,[s(n,{rounded:"",outlined:"",label:"Not Assigned",disable:""})]))])]),e("div",pe,[e("div",me,[he,t.IRQADetailss.subjectSpecificExam?(r(),u("span",fe,[s(n,{rounded:"",outlined:"","model-value":t.IRQADetailss.subjectName+" - "+t.IRQADetailss.subjectSpecificExam,disable:""},null,8,["model-value"])])):t.IRQADetailss.subjectSpecificExam===null?(r(),u("span",_e,[s(n,{rounded:"",outlined:"","model-value":t.IRQADetailss.subjectName,disable:""},null,8,["model-value"])])):_("",!0)]),e("div",be,[Re,s(n,{rounded:"",outlined:"","model-value":t.IRQADetailss.subjectLoc,disable:""},null,8,["model-value"])])]),e("div",ge,[e("div",De,[ve,s(n,{rounded:"",outlined:"","model-value":c.FormatDate(t.IRQADetailss.subjectDate),disable:""},null,8,["model-value"])]),e("div",ye,[xe,s(n,{rounded:"",outlined:"","model-value":c.FormatTime(t.IRQADetailss.subjectTime),disable:""},null,8,["model-value"])])])])])]),s(p,{class:"formseparatorWhite"}),e("div",Ie,[e("div",we,[e("div",Ne,[Ae,Ce,s(p,{class:"formseparatorYellow"}),t.IRQADetailss.subjectFile&&t.IRQADetailss.subjectFile.length?(r(),u("div",Se,[e("div",{style:{display:"flex","align-items":"center",gap:"8px",background:"#e3f2fd",padding:"8px","border-radius":"4px"},onClick:i[1]||(i[1]=F(h=>c.viewPDF(t.IRQADetailss.subjectFile,t.IRQADetailss.subjectFileName),["stop"]))},[s(x,{name:"description",class:"text-h3",color:"red"}),e("div",Ee,w(t.IRQADetailss.subjectFileName),1)]),s(I,{modelValue:t.pdfDisplayDialog,"onUpdate:modelValue":i[3]||(i[3]=h=>t.pdfDisplayDialog=h)},{default:a(()=>[s(v,{style:{width:"90vw","max-width":"1100px"}},{default:a(()=>[e("div",He,[Te,s(b,{icon:"close",flat:"",round:"",dense:"",onClick:i[2]||(i[2]=h=>t.pdfDisplayDialog=!1),class:"absolute-top-right"})]),s(R,null,{default:a(()=>[t.pdfUrl?(r(),u("iframe",{key:0,src:t.pdfUrl,width:"100%",height:"600px",style:{border:"none"}},null,8,Fe)):_("",!0)]),_:1})]),_:1})]),_:1},8,["modelValue"])])):(r(),u("div",Qe,Oe))])])]),s(p,{class:"formseparatorWhite"}),e("div",je,[e("div",ke,[e("div",Pe,[Le,Ue,s(p,{class:"formseparatorYellow"}),e("div",ze,[s(n,{autogrow:"",rounded:"",outlined:"","model-value":t.IRQADetailss.subjectNote,disable:"","input-class":"q-pa-md"},null,8,["model-value"])])])])]),s(p,{class:"formseparatorWhite"}),e("div",Ve,[e("div",$e,[e("div",Me,[We,Ge,s(p,{class:"formseparatorYellow"}),e("div",Be,[s(n,{autogrow:"",rounded:"",outlined:"","model-value":t.IRQADetailss.subjectCause,disable:"","input-class":"q-pa-md"},null,8,["model-value"])])])])]),s(p,{class:"formseparatorWhite"}),e("div",Ye,[e("div",Je,[e("div",Xe,[Ze,Ke,s(p,{class:"formseparatorYellow"}),e("div",et,[s(n,{autogrow:"",rounded:"",outlined:"","model-value":t.IRQADetailss.subjectResponse,disable:"","input-class":"q-pa-md"},null,8,["model-value"])])])])])]),_:1})]),_:1})])]),_:1},8,["modelValue"])]),_:2},1024)]),_:1},8,["rows","columns"])}var st=A($,[["render",tt]]);const ot={props:{items:Array,columns:Array,hrstatus:Object,getInc:Function,DemOp:Object,rcaStats:Object,disCod:Array,disSpeOF:Array,Occurrences:Object,Penalty:Object},data(){return{IRQADetailss:[],Emparties:[],iRNo:"",setHRDialogs:!1,setHRActDialogs:!1,setHRNDialogs:!1,IrNo:"",selectedIrNo:"",addNewNote:"",lostRec:"",setFinLiaDialogs:!1,waitplease:!1,setHRNoteDialogs:!1,disEmployees:[],editDems:null,setDemDialogs:!1,IRDialog:!1,setDialogs:!1,setRCADialogs:!1,editDialogs:!1,editDialog:!1,EmployeeCode:"",DisciplineCode:"",SpecificOfNo:"",Occurrence:"",Penalties:"",waitOff:!1,waitNote:!1,pdfDisplayDialog:!1,pdfUrl:null,maximizedToggle:null,subjectFileName:null,subjectFile:null}},computed:{...N({employees:"ApplyStore/employees",getHR:"ApplyStore/getHR"}),filteredSpecificOff(){return this.DisciplineCode?this.disSpeOF.filter(o=>o.DisciplineCode===this.DisciplineCode):this.disSpeOF}},methods:{FormatDate(o){const i=new Date(o),l={year:"numeric",month:"long",day:"2-digit"};return i.toLocaleDateString("en-US",l).toUpperCase().replace(/\s/g," ")},FormatDateIR(o){const i=new Date(o),l={year:"numeric",month:"long",day:"2-digit"};return i.toLocaleDateString("en-US",l).toUpperCase().replace(/\s/g," ")},FormatTime(o){const i=new Date(o);let l=i.getHours();const d=i.getMinutes().toString().padStart(2,"0"),t=l>=12?"PM":"AM";return l=l%12,l=l||12,`${l}:${d} ${t}`},async viewIReport(o){try{this.IRDialog=!0;const i={iRNo:o};this.selectedIrNo=o;const l=await this.$store.dispatch("ApplyStore/disIrpHR",i);this.IRQADetailss=this.getHR}catch(i){console.error("Error inserting data:",i)}},viewPDF(o){this.pdfUrl="data:application/pdf;base64,"+o,this.pdfDisplayDialog=!0},closepdf(){this.pdfDisplayDialog=!1,this.subjectFile=null},editIRHR(o){this.setHRDialogs=!0,this.IrNo=o},async saveIRHRStatus(){try{const o={IRNo:this.IrNo,HRStatus:!1},i=await this.$store.dispatch("ApplyStore/puthrIR",o);setTimeout(()=>{this.getInc()},2e3),this.$q.notify({color:"green-8",position:"top",message:"SUCCESS CLOSING STATUS",icon:"check",iconColor:"white",timeout:1e3,progress:!0}),this.setHRDialogs=!1,this.HRStatus=""}catch(o){console.error("Error updating status:",o)}},editFinlia(o){this.setFinLiaDialogs=!0,this.IrNo=o},async saveResponse(o){try{this.waitplease=!0;const i={IRNo:this.IrNo,FinancialLiability:o},l=await this.$store.dispatch("ApplyStore/AddfinLia",i);setTimeout(()=>{this.getInc(),this.waitplease=!1},3e3),this.setFinLiaDialogs=!1,this.$q.notify({color:"green-8",position:"top",message:"SUCCESS INPUTTING FIELDS",icon:"check",iconColor:"white",timeout:4e3,progress:!0})}catch(i){console.error("Error inserting data:",i)}},editHRNote(o){this.setHRNDialogs=!0,this.IrNo=o},async ConSubmit(){try{if(!this.validateNOTE()){this.$q.notify({color:"negative",position:"top",message:"REQUIRED ALL FIELDS",icon:"report_problem",iconColor:"white",timeout:2e3,progress:!0}),this.setHRNDialogs=!0;return}const o={newHRNote:this.addNewNote,iRNo:this.IrNo};this.setHRNDialogs=!1,this.waitNote=!0,await this.$store.dispatch("ApplyStore/AddNew",o),setTimeout(()=>{this.getInc(),this.waitNote=!1,this.cancelConclusion()},2e3),this.$q.notify({color:"green-8",position:"top",message:"SUCCESS ADDING CONCLUSION",icon:"check",iconColor:"white",timeout:3e3,progress:!0})}catch(o){console.error("Error inserting data:",o)}},cancelConclusion(){this.IrNo="",this.addNewNote="",this.setHRNDialogs=!1},validateNOTE(){return this.IrNo&&this.addNewNote},editHRNotes(o){this.setHRNoteDialogs=!0,this.IrNo=o},async ConHRSubmit(){try{if(!this.validateHRNOTE()){this.$q.notify({color:"negative",position:"top",message:"REQUIRED ALL FIELDS",icon:"report_problem",iconColor:"white",timeout:2e3,progress:!0}),this.setHRNoteDialogs=!0;return}const o={newHRNote:this.addNewNote,iRNo:this.IrNo};this.setHRNoteDialogs=!1,this.waitNote=!0,setTimeout(()=>{this.getInc(),this.waitNote=!1,this.cancelConclusion()},2e3),this.$q.notify({color:"green-8",position:"top",message:"SUCCESS ADDING CONCLUSION",icon:"check",iconColor:"white",timeout:3e3,progress:!0}),await this.$store.dispatch("ApplyStore/AddNoteNew",o)}catch(o){console.error("Error inserting data:",o)}},cancelHRConclusion(){this.IrNo="",this.addNewNote="",this.setHRNoteDialogs=!1},validateHRNOTE(){return this.IrNo&&this.addNewNote},FilterFn(o,i){if(o===""){i(()=>{this.disEmployees=this.employees});return}i(()=>{const l=o.toLowerCase();this.disEmployees=this.employees.filter(d=>d.FullName.toLowerCase().indexOf(l)>-1)})},addEmParty(){this.Emparties.length<5?this.Emparties.push({EmployeeCode:""}):this.$q.notify({type:"negative",message:"Cannot add more parties"})},removeParty(o){this.Emparties.splice(o,1)},editEmp(o){this.editDialog=!0,this.IrNo=o},async handleSave(){try{if(!this.validateForm()){this.$q.notify({color:"negative",position:"top",message:"REQUIRED ALL FIELDS",icon:"report_problem",iconColor:"white",timeout:2e3,progress:!0}),this.editDialog=!0;return}const o={iRNo:this.IrNo,EmployeeCode:this.Emparties.map(l=>l.EmployeeCode),DisciplineCode:this.DisciplineCode,SpecificOfNo:this.SpecificOfNo,Occurrence:this.Occurrence.value,Penalties:this.Penalties.value},i=await this.$store.dispatch("ApplyStore/EmplDem",o);this.editDialog=!1,this.waitOff=!0,setTimeout(()=>{this.getInc(),this.waitOff=!1,this.onReset()},3e3),this.$q.notify({color:"green-8",position:"top",message:"SUCCESSFUL DEMERITING EMPLOYEES",icon:"check",iconColor:"white",timeout:4e3,progress:!0})}catch(o){console.error("Error inserting data:",o)}},validateForm(){return this.IrNo&&this.Emparties&&this.SpecificOfNo&&this.DisciplineCode&&this.Occurrence&&this.Penalties},onReset(){this.Emparties=[],this.IrNo="",this.DisciplineCode="",this.SpecificOfNo="",this.Occurrence="",this.Penalties="",this.editDialog=!1}}},it={class:"HRVDia"},lt=e("div",{class:"text-secondary text-weight-bold",style:{"font-size":"25px",color:"#002b5c"}}," INCIDENT REPORT INFORMATION ",-1),at={class:"row q-col-gutter-md q-mx-lg"},nt={class:"col-6"},rt=e("div",{class:"text-weight-bold",style:{"font-size":"15px",color:"#03254b"}}," Incident Report Number ",-1),dt={class:"col-6"},ct=e("div",{class:"text-weight-bold",style:{"font-size":"15px",color:"#03254b"}}," Date Report Created ",-1),ut={class:"HRDesContent"},pt={class:"HRFixDesign"},mt={class:"HRDes1"},ht=e("div",{class:"text-primary text-subtitle1 text-weight-bold q-mb-sx"}," General Information ",-1),ft=e("div",{class:"q-mb-sm",style:{"font-size":"15px",color:"#737373"}}," This section contains essential details regarding the incident, including the date, time, location, individuals involved, and the nature of the incident. ",-1),_t={class:"row q-col-gutter-md q-mx-lg"},bt={class:"col-6"},Rt=e("div",{class:"text-weight-bold",style:{"font-size":"15px",color:"#03254b"}}," Primary (Department/s) ",-1),gt={key:0},Dt={key:1},vt={class:"col-6"},yt=e("div",{class:"text-weight-bold",style:{"font-size":"15px",color:"#03254b"}}," Secondary (Department/s) ",-1),xt={key:0},It={key:1},wt={class:"row q-col-gutter-md q-mx-lg q-mt-xs"},Nt={class:"col-6"},At=e("div",{class:"text-weight-bold",style:{"font-size":"15px",color:"#03254b"}}," Subject of the Incident ",-1),Ct={key:0},St={key:1},Et={class:"col-6"},Ht=e("div",{class:"text-weight-bold",style:{"font-size":"15px",color:"#03254b"}}," Location of the Incident ",-1),Tt={class:"row q-col-gutter-md q-mx-lg q-mt-xs"},Ft={class:"col-6"},Qt=e("div",{class:"text-weight-bold",style:{"font-size":"15px",color:"#03254b"}}," Date of the Incident ",-1),qt={class:"col-6"},Ot=e("div",{class:"text-weight-bold",style:{"font-size":"15px",color:"#03254b"}}," Time of the Incident ",-1),jt={class:"HRDesContent"},kt={class:"HRFixDesign"},Pt={class:"HRDes1"},Lt=e("div",{class:"text-primary text-subtitle1 text-weight-bold q-mb-sx"}," Attached File ",-1),Ut=e("div",{class:"q-mb-sm",style:{"font-size":"15px",color:"#737373"}}," The attached files support the accurate review and proper documentation of this incident report. ",-1),zt={key:0,class:"HRFileDes column flex-center"},Vt={class:"text-dark text-left text-subtitle1"},$t={class:"bg-info text-white"},Mt=e("div",{class:"IRND"},"UPLOADED PDF FILES",-1),Wt=["src"],Gt={key:1,class:"HRFileDes column flex-center"},Bt=e("div",{class:"text-subtitle1 items-center text-weight-bold text-dark"},[e("i",null,"~ NO FILE ATTACHED ~")],-1),Yt=[Bt],Jt={class:"HRDesContent"},Xt={class:"HRFixDesign"},Zt={class:"HRDes1"},Kt=e("div",{class:"text-primary text-subtitle1 text-weight-bold q-mb-sx"}," Narrative Description of the Incident ",-1),es=e("div",{class:"q-mb-sm",style:{"font-size":"15px",color:"#737373"}}," Provided detailed of how the incident transpired, including the sequence of events, contributing factors, and individuals involved. ",-1),ts={class:"q-mx-xl"},ss={class:"HRDesContent"},os={class:"HRFixDesign"},is={class:"HRDes1"},ls=e("div",{class:"text-primary text-subtitle1 text-weight-bold q-mb-sx"}," Possible Causes of the Incident ",-1),as=e("div",{class:"q-mb-sm",style:{"font-size":"15px",color:"#737373"}}," Possible reason on the perspective of the Informant. ",-1),ns={class:"q-mx-xl"},rs={class:"HRDesContent"},ds={class:"HRFixDesign"},cs={class:"HRDes1"},us=e("div",{class:"text-primary text-subtitle1 text-weight-bold q-mb-sx"}," Immediate Response ",-1),ps=e("div",{class:"q-mb-sm",style:{"font-size":"15px",color:"#737373"}}," Action taken by the concerned department or by the Informant to ease the incident. ",-1),ms={class:"q-mx-xl"},hs={class:"text-dark text-bold text-center"},fs={key:0,class:"text-positive text-bold text-center"},_s={key:1,class:"text-negative text-bold text-center"};function bs(o,i,l,d,t,c){return r(),D(q,{rows:l.items,columns:l.columns,"row-key":"IRNo"},{"body-cell-viewIR":a(m=>[s(g,null,{default:a(()=>[s(b,{push:"",onClick:h=>c.viewIReport(m.row.iRNo),ripple:{center:!0},color:"accent",icon:"description",class:"text-black text-bold text-center shadow-5",style:{"border-radius":"20px",width:"125px"}},null,8,["onClick"]),s(I,{maximized:"",modelValue:t.IRDialog,"onUpdate:modelValue":i[4]||(i[4]=h=>t.IRDialog=h),persistent:""},{default:a(()=>[e("div",it,[s(v,{class:"contentFormHR"},{default:a(()=>[s(R,{class:"q-mb-sm row items-center justify-between"},{default:a(()=>[lt,y((r(),D(b,{flat:"",icon:"close",style:{color:"#003566","background-color":"rgba(22, 110, 204, 0.1)"},onClick:i[0]||(i[0]=h=>t.IRDialog=!1)},{default:a(()=>[s(Q,{class:"bg-info text-white"},{default:a(()=>[T(" Close Form ")]),_:1})]),_:1})),[[O]])]),_:1}),s(R,{style:{border:"2px solid #6b7c93"}},{default:a(()=>[e("div",at,[e("div",nt,[rt,s(n,{rounded:"",outlined:"","model-value":t.IRQADetailss.iRNo,disable:""},null,8,["model-value"])]),e("div",dt,[ct,s(n,{rounded:"",outlined:"","model-value":c.FormatDateIR(t.IRQADetailss.dateTimeCreated),disable:""},null,8,["model-value"])])]),s(p,{class:"formseparatorWhite"}),e("div",ut,[e("div",pt,[e("div",mt,[ht,ft,s(p,{class:"formseparatorYellow"}),e("div",_t,[e("div",bt,[Rt,t.IRQADetailss.primaryDept?(r(),u("span",Dt,[s(n,{rounded:"",outlined:"","model-value":t.IRQADetailss.primaryDept,disable:""},null,8,["model-value"])])):(r(),u("span",gt,[s(n,{rounded:"",outlined:"",label:"Not Assigned",disable:""})]))]),e("div",vt,[yt,t.IRQADetailss.deptCodeInvDescriptions?(r(),u("span",It,[s(n,{rounded:"",outlined:"",autogrow:"","model-value":t.IRQADetailss.deptCodeInvDescriptions,disable:""},null,8,["model-value"])])):(r(),u("span",xt,[s(n,{rounded:"",outlined:"",label:"Not Assigned",disable:""})]))])]),e("div",wt,[e("div",Nt,[At,t.IRQADetailss.subjectSpecificExam?(r(),u("span",Ct,[s(n,{rounded:"",outlined:"","model-value":t.IRQADetailss.subjectName+" - "+t.IRQADetailss.subjectSpecificExam,disable:""},null,8,["model-value"])])):t.IRQADetailss.subjectSpecificExam===null?(r(),u("span",St,[s(n,{rounded:"",outlined:"","model-value":t.IRQADetailss.subjectName,disable:""},null,8,["model-value"])])):_("",!0)]),e("div",Et,[Ht,s(n,{rounded:"",outlined:"","model-value":t.IRQADetailss.subjectLoc,disable:""},null,8,["model-value"])])]),e("div",Tt,[e("div",Ft,[Qt,s(n,{rounded:"",outlined:"","model-value":c.FormatDate(t.IRQADetailss.subjectDate),disable:""},null,8,["model-value"])]),e("div",qt,[Ot,s(n,{rounded:"",outlined:"","model-value":c.FormatTime(t.IRQADetailss.subjectTime),disable:""},null,8,["model-value"])])])])])]),s(p,{class:"formseparatorWhite"}),e("div",jt,[e("div",kt,[e("div",Pt,[Lt,Ut,s(p,{class:"formseparatorYellow"}),t.IRQADetailss.subjectFile&&t.IRQADetailss.subjectFile.length?(r(),u("div",zt,[e("div",{style:{display:"flex","align-items":"center",gap:"8px",background:"#e3f2fd",padding:"8px","border-radius":"4px"},onClick:i[1]||(i[1]=F(h=>c.viewPDF(t.IRQADetailss.subjectFile,t.IRQADetailss.subjectFileName),["stop"]))},[s(x,{name:"description",class:"text-h3",color:"red"}),e("div",Vt,w(t.IRQADetailss.subjectFileName),1)]),s(I,{modelValue:t.pdfDisplayDialog,"onUpdate:modelValue":i[3]||(i[3]=h=>t.pdfDisplayDialog=h)},{default:a(()=>[s(v,{style:{width:"90vw","max-width":"1100px"}},{default:a(()=>[e("div",$t,[Mt,s(b,{icon:"close",flat:"",round:"",dense:"",onClick:i[2]||(i[2]=h=>t.pdfDisplayDialog=!1),class:"absolute-top-right"})]),s(R,null,{default:a(()=>[t.pdfUrl?(r(),u("iframe",{key:0,src:t.pdfUrl,width:"100%",height:"600px",style:{border:"none"}},null,8,Wt)):_("",!0)]),_:1})]),_:1})]),_:1},8,["modelValue"])])):(r(),u("div",Gt,Yt))])])]),s(p,{class:"formseparatorWhite"}),e("div",Jt,[e("div",Xt,[e("div",Zt,[Kt,es,s(p,{class:"formseparatorYellow"}),e("div",ts,[s(n,{autogrow:"",rounded:"",outlined:"","model-value":t.IRQADetailss.subjectNote,disable:"","input-class":"q-pa-md"},null,8,["model-value"])])])])]),s(p,{class:"formseparatorWhite"}),e("div",ss,[e("div",os,[e("div",is,[ls,as,s(p,{class:"formseparatorYellow"}),e("div",ns,[s(n,{autogrow:"",rounded:"",outlined:"","model-value":t.IRQADetailss.subjectCause,disable:"","input-class":"q-pa-md"},null,8,["model-value"])])])])]),s(p,{class:"formseparatorWhite"}),e("div",rs,[e("div",ds,[e("div",cs,[us,ps,s(p,{class:"formseparatorYellow"}),e("div",ms,[s(n,{autogrow:"",rounded:"",outlined:"","model-value":t.IRQADetailss.subjectResponse,disable:"","input-class":"q-pa-md"},null,8,["model-value"])])])])])]),_:1})]),_:1})])]),_:1},8,["modelValue"])]),_:2},1024)]),"body-cell-QA":a(m=>[s(g,{props:m},{default:a(()=>[e("span",hs,w(m.row.mainFullName),1)]),_:2},1032,["props"])]),"body-cell-hrReferral":a(m=>[s(g,null,{default:a(()=>[m.row.hrReferral===1?(r(),u("span",fs,"YES")):_("",!0),m.row.hrReferral===2?(r(),u("span",_s,"NO")):_("",!0)]),_:2},1024)]),_:1},8,["rows","columns"])}var Rs=A(ot,[["render",bs]]);const gs={data(){return{loading:!0,showTable:!1,hrTab:"reportable",disRepAll:[],disRefAll:[],disEmployees:[],disRefColumns:[{name:"viewIR",label:"INCIDENT REPORT DETAILS",align:"left",field:"id"},{name:"IRNo",label:"IRNUMBER",align:"left",field:"iRNo"},{name:"departmentNumber",label:"INCIDENT RESPONDER (DEPARTMENT)",align:"left",field:"department_Description"},{name:"subject",label:"SUBJECT OF THE INCIDENT",align:"left",field:"subjectName"},{name:"QA",label:"QA IN-CHARGE",align:"left",field:"id"},{name:"hrReferral",label:"HR REFERRAL",align:"left",field:"hrReferral,"}],disRepColumns:[{name:"viewIR",label:"INCIDENT REPORT DETAILS",align:"left",field:"id"},{name:"IRNo",label:"IRNUMBER",align:"left",field:"iRNo"},{name:"departmentNumber",label:"INCIDENT RESPONDER (DEPARTMENT)",align:"left",field:"department_Description"},{name:"subject",label:"SUBJECT OF THE INCIDENT",align:"left",field:"subjectName"}],hrStats:[{label:"OPEN",value:!0},{label:"CLOSED",value:!1}],Occurrences:[{label:"1ST",value:"1ST"},{label:"2ND",value:"2ND"},{label:"3RD",value:"3RD"},{label:"4TH",value:"4TH"},{label:"5TH",value:"5TH"}],Penalty:[{label:"VERBAL WARNING",value:"VERBAL WARNING"},{label:"WRITTEN WARNING",value:"WRITTEN WARNING"},{label:"SUSPENSION",value:"SUSPENSION"},{label:"DISMISSAL",value:"DISMISSAL"}],disCod:[],disSpeOF:[],date:new Date,selectedStatus:null,searchRefQuery:"",DisciplineCode:null,PenaltiesCode:null,searchRepQuery:"",selectedRepStatus:null}},computed:{...N({getForm:"ApplyStore/getForm",getHR:"ApplyStore/getHR",departments:"ApplyStore/departments"}),filteredRefDisAll(){const{disRefAll:o,selectedStatus:i,searchRefQuery:l}=this;let d=[...o];if(i&&typeof i=="object"){const{value:t}=i;d=d.filter(c=>c.HRStatus===t)}if(l&&typeof l=="string"){const t=l.toLowerCase();d=d.filter(c=>Object.values(c).some(m=>typeof m=="string"&&m.toLowerCase().includes(t)))}return d},filteredRepDisAll(){const{disRepAll:o,selectedRepStatus:i,searchRepQuery:l}=this;let d=[...o];if(i&&typeof i=="object"){const{value:t}=i;d=d.filter(c=>c.HRStatus===t)}if(l&&typeof l=="string"){const t=l.toLowerCase();d=d.filter(c=>Object.values(c).some(m=>typeof m=="string"&&m.toLowerCase().includes(t)))}return d}},components:{hrRepComponentsTable:st,hrRefComponentsTable:Rs},mounted(){setTimeout(()=>{this.showTable=!0,this.disAll,this.loading=!1},3e3)},created(){this.getHRRepInc(),this.getHRRefInc()},methods:{async getHRRepInc(){try{await this.$store.dispatch("ApplyStore/disHRRep"),this.disRepAll=this.getHR}catch(o){console.error("Error inserting data:",o)}},async getHRRefInc(){try{await this.$store.dispatch("ApplyStore/disHRRef"),this.disRefAll=this.getForm}catch(o){console.error("Error inserting data:",o)}},search(){},async selectStatus(o){this.selectedStatus=o}}},Ds={id:"q-app",style:{position:"relative","z-index":"1"}},vs={style:{height:"100%",width:"100%"},class:"q-pa-lg"},ys=e("div",{class:"row items-center justify-between q-mb-md bg-white q-pa-sm rounded-borders shadow-1",style:{"border-radius":"10px"}},[e("div",null,[e("div",{class:"text-primary text-weight-bold",style:{"font-size":"30px"}}," HUMAN RESOURCES MODULE "),e("div",{style:{"font-size":"18px",color:"#333333"}}," Incident Report Details ")])],-1),xs={key:0,class:"fixed-full flex flex-center column q-gutter-md",style:{"background-color":"rgba(255, 255, 255, 0.7)","z-index":"9999"}},Is=e("div",{class:"text-subtitle1 text-primary"},"Please wait...",-1),ws={class:"row items-center justify-end q-mb-md"},Ns={class:"row items-center justify-end q-mb-md"},As=e("img",{src:V,style:{position:"absolute",top:"0",left:"0",width:"100%",height:"100%","z-index":"0"}},null,-1);function Cs(o,i,l,d,t,c){const m=C("hrRepComponentsTable"),h=C("hrRefComponentsTable");return r(),u(k,null,[e("div",Ds,[e("div",vs,[ys,s(R,{class:"bg-white q-pa-lg rounded-borders shadow-1 q-mb-md"},{default:a(()=>[t.loading?(r(),u("div",xs,[s(j,{size:"150px",color:"primary"}),Is])):_("",!0),s(P,{class:"bg-secondary text-white shadow-2 rounded-borders"},{default:a(()=>[s(b,{flat:"",label:"All Items",class:"text-h6"}),s(L),s(U,{modelValue:t.hrTab,"onUpdate:modelValue":i[0]||(i[0]=f=>t.hrTab=f),shrink:"",stretch:""},{default:a(()=>[s(E,{name:"reportable",label:"Reportable Incident"}),s(E,{name:"hrReferral",label:"Human Resources (HR) Referral"})]),_:1},8,["modelValue"])]),_:1}),s(z,{modelValue:t.hrTab,"onUpdate:modelValue":i[3]||(i[3]=f=>t.hrTab=f),animated:"",class:"q-mt-sm tab-panels-bordered rounded-borders bg-warning shadow-4"},{default:a(()=>[s(H,{name:"reportable"},{default:a(()=>[e("div",ws,[s(n,{modelValue:t.searchRepQuery,"onUpdate:modelValue":i[1]||(i[1]=f=>t.searchRepQuery=f),label:"SEARCH ",dense:"",outlined:"",rounded:""},{append:a(()=>[s(x,{name:"search",color:"info"})]),_:1},8,["modelValue"])]),y(s(m,{items:c.filteredRepDisAll,pagination:{rowsPerPage:8},columns:t.disRepColumns,style:{"border-collapse":"collapse"},loading:t.loading},null,8,["items","columns","loading"]),[[S,t.showTable]])]),_:1}),s(H,{name:"hrReferral"},{default:a(()=>[e("div",Ns,[s(n,{modelValue:t.searchRefQuery,"onUpdate:modelValue":i[2]||(i[2]=f=>t.searchRefQuery=f),label:"SEARCH ",dense:"",outlined:"",rounded:""},{append:a(()=>[s(x,{name:"search",color:"info"})]),_:1},8,["modelValue"])]),y(s(h,{items:c.filteredRefDisAll,pagination:{rowsPerPage:8},columns:t.disRefColumns,hrStats:t.hrStats,getInc:o.getInc,disCod:t.disCod,disSpeOF:t.disSpeOF,Occurrences:t.Occurrences,Penalty:t.Penalty,style:{"border-collapse":"collapse"},loading:t.loading},null,8,["items","columns","hrStats","getInc","disCod","disSpeOF","Occurrences","Penalty","loading"]),[[S,t.showTable]])]),_:1})]),_:1},8,["modelValue"])]),_:1})])]),As],64)}var zs=A(gs,[["render",Cs]]);export{zs as default};
